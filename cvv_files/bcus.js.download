function parseDomain(d,f,e){f||(f=location.protocol+"//"+location.hostname+(location.port?":"+location.port:""));document.location=f+d}var BCUS=BCUS||{};BCUS.Constants={};var implementAdaSolution=!0,implementYuiModalAdaSolution=!0,showFocusOnFirst=!1,activeElement;
BCUS.Constants.Password=function(){return{PWD_REGEX:/^(((?=.*\d)(?=.*[a-z])(?=.*[A-Z]))|((?=.*\d)(?=.*[a-z])(?=.*[!\"#$%&'\(\)\*\+,-\./:;<=>?@\[\\\]^\{\}_\|~]))|((?=.*\d)(?=.*[A-Z])(?=.*[!\"#$%&'\(\)\*\+,-\./:;<=>?@\[\\\]^\{\}_\|~]))|((?=.*[a-z])(?=.*[A-Z])(?=.*[!\"#$%&'\(\)\*\+,-\./:;<=>?@\[\\\]^\{\}_\|~])))(?!=.*[\\~`_\\|\\{\\}])[a-zA-Z0-9!\"#$%&'\(\)\*\+,-\./:;<=>?@\[\\\]^\{\}_\|~]{8,30}$/,PWD_REGEX_STRONG:/^(?=.{13,30}$)(?![\s`])(?=.[^`\s]*$)(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[\!\@\#\$\%\^\&\*\(\)\_\-\+\=\[\]\\\{\}\|\;\'\:\"\,\.\/\<\>\?\~]).*/}}();
"undefined"!=typeof BCUS&&BCUS||(BCUS={});BCUS.namespace=function(){var d=arguments,f=null,e,l,h;for(e=0;e<d.length;e+=1)for(h=(""+d[e]).split("."),f=BCUS,l="BCUS"==h[0]?1:0;l<h.length;l+=1)f[h[l]]=f[h[l]]||{},f=f[h[l]];return f};
BCUS.popwin=function(){var d=window,f=[],e=arguments,l,h,k,m,n={width:"640",height:"480",scrollbars:!0,toolbars:!0,resizable:!0,menubar:!0,status:!0,location:!0};0!=e.length&&e||(l="",h="pop",k=n);1==e.length&&("object"==typeof e[0]?(l="",h="pop",k=e[0]):(l=e[0],h="pop",k=n));2==e.length&&("object"==typeof e[1]?(l=e[0],h="pop",k=e[1]):"string"==typeof e[1]&&(l=e[0],h=e[1],k=n));3==e.length&&(l=e[0],h=e[1],k=e[2]);for(m in n){if(n.hasOwnProperty(m))switch(m){case "width":n[m]=k[m]||n[m];break;case "height":n[m]=
k[m]||n[m];break;case "scrollbars":n[m]=k[m]?"yes":"no";break;case "toolbars":n[m]=k[m]?"yes":"no";break;case "resizable":n[m]=k[m]?"yes":"no";break;case "menubar":n[m]=k[m]?"yes":"no";break;case "status":n[m]=k[m]?"yes":"no"}f.push(m+"\x3d"+n[m])}f.join(",");return d.open(l,h,f)};BCUS.addAdaTag=function(d,f,e){implementAdaSolution&&d&&(d=Dom.get(d))&&d.setAttribute(f,e)};BCUS.removeAdaTag=function(d,f){implementAdaSolution&&d&&(d=Dom.get(d))&&d.removeAttribute(f)};
BCUS.setActiveTabByHash=function(d,f){if("undefined"!=typeof YAHOO&&YAHOO&&d&&(f=f.split("#"),f[1])){f=f[1];for(var e=d.get("tabs"),l=0;l<e.length;l++)if(e[l].get("href")=="#"+f){d.set("activeIndex",l);break}}};BCUS.offerHeights=[];BCUS.expandElement=function(d){return"undefined"!=typeof YAHOO&&YAHOO?(YAHOO.util.Dom.setStyle(d,"height","auto"),YAHOO.util.Dom.setStyle(d,"visibility","visible"),new YAHOO.util.Anim(d,{height:{from:0,to:d.scrollHeight}},.3,YAHOO.util.Easing.easeIn)):!1};
BCUS.expandElementModified=function(d){return"undefined"!=typeof YAHOO&&YAHOO?(YAHOO.util.Dom.setStyle(d,"visibility","visible"),new YAHOO.util.Anim(d,{height:{from:0,to:d.scrollHeight}},.3,YAHOO.util.Easing.easeIn)):!1};BCUS.collapseElement=function(d){return"undefined"!=typeof YAHOO&&YAHOO?(YAHOO.util.Dom.setStyle(d,"visibility","hidden"),new YAHOO.util.Anim(d,{height:{from:d.scrollHeight,to:0}},.5,YAHOO.util.Easing.easeOut)):!1};
BCUS.expandBTElement=function(d){return"undefined"!=typeof YAHOO&&YAHOO?new YAHOO.util.Anim(d,{height:{from:0,to:BCUS.offerHeights["string"==typeof d?d:d.id]}},.5,YAHOO.util.Easing.easeIn):!1};BCUS.collapseBTElement=function(d){return"undefined"!=typeof YAHOO&&YAHOO?(BCUS.offerHeights["string"==typeof d?d:d.id]=YAHOO.util.Dom.get(d).scrollHeight,new YAHOO.util.Anim(d,{height:{from:d.scrollHeight,to:0}},.5,YAHOO.util.Easing.easeOut)):!1};BCUS.emailRegex=/^[a-z0-9][^\(\)\<\>\@\,\;\:\\\"\[\]]*\@[a-z0-9][a-z0-9\-\.]*\.[a-z]{2,4}$/i;
BCUS.isPOBox=function(){var d=/(^[\d\s]*p\.\s*[o0]\.([\s\d]+[\d\w\s\.]*)?$)|(^p[o0](b[o0])?([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*p\s*[o0]\s*b\s*[o0]?\s*x([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*p[o0](st(al)?)?\s*([o0]ffice(b[o0]x)?|bb?[o0]x|drawer)([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*[o0]ffice\s*p[o0]st(al)?([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*(p[o0]bx|pb[o0]x|p\s+b[o0]x|pbx|p\s+b|p\s+[0o]|p[o0]b|b[o0]x|drawer)([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*b[o0]x\s+p\s*[o0](st(al)?)?\s*([o0]ffice)?([\s\d]+[\d\w\s\.]*)?$)/i,f=arguments,
e=!1;f&&(f=f[0],f=f.replace(/[\\.,:;']/g,""),f=f.replace(/[_]/g," "),e=d.test(f));return e};BCUS.addComma=function(d){var f=(d+"").split(".");d=f[0];for(var f=1<f.length?"."+f[1]:"",e=/(\d+)(\d{3})/;e.test(d);)d=d.replace(e,"$1,$2");return d+f};
BCUS.validate={VALIDATION_KEYS:"data-required data-mask data-match data-minlength data-maxlength maxlength data-password data-minAllowed data-maxAllowed data-earliestDate data-latestDate data-noSoonerThan data-noLaterThan".split(" "),ERROR_VALUE_TOO_SHORT:"valueTooShort",ERROR_VALUE_TOO_LONG:"valueTooLong",ERROR_MISMATCH:"mismatch",ERROR_VALUE_DOES_NOT_MATCH:"valueDoesNotMatch",ERROR_VALUE_NOT_PRESENT:"valueNotPresent",ERROR_VALUE_DOES_NOT_MEET_CRITERIA:"valueDoesNotMeetCriteria",ERROR_VALUE_EXPRESSION_FAILED:"valueFailedExpression",
ERROR_VALUE_ABOVE_MAXIMUM:"valueAboveMaximum",ERROR_VALUE_BELOW_MINIMUM:"valueBelowMinimum",ERROR_DATE_TOO_EARLY:"dateTooEarly",ERROR_DATE_TOO_LATE:"dateTooLate",ERROR_DATE_MISMATCH:"dateMismatch",execute:function(d,f){var e=YAHOO.util.Event.getTarget(d),l=f.beanclass;f=f.callbacks;var h=YAHOO.util.Dom,k=BCUS.validate,m=BCUS.validate.VALIDATION_KEYS;e||(e=d);void 0!==e.getDOMNode&&(e=e.getDOMNode());d=0;for(var n=m.length;d<n;d+=1){if(null!==h.getAttribute(e,m[d])){var p=h.getAttribute(e,m[d]),a=
m[d],c=!1,b=e.id+"_Error";BCUS.addAdaTag(b,"role","alert");BCUS.addAdaTag(b,"aria-atomic","true");h.get(b).innerHTML="";switch(a){case "data-mask":if(!k.isBlank(e)&&"data-mask"==a&&k.checkMask(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_VALUE_DOES_NOT_MATCH);BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "data-match":if("data-match"==a&&k.checkMatch(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_MISMATCH);BCUS.addAdaTag(e.id,
"aria-describedby",b);break}case "data-minlength":if(!k.isBlank(e)&&"data-minlength"==a&&k.checkMinLength(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_VALUE_TOO_SHORT);BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "data-maxlength":if(!k.isBlank(e)&&"data-maxlength"==a&&k.checkDataMaxLength(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_VALUE_TOO_LONG);BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "data-required":if("true"==
p&&k.isBlank(e)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_VALUE_NOT_PRESENT);BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "maxlength":if(!k.isBlank(e)&&"maxlength"==a&&k.checkMaxLength(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_VALUE_TOO_LONG);BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "data-password":if("data-password"==a&&k.checkPassword(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,
l,k.ERROR_VALUE_DOES_NOT_MEET_CRITERIA);BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "data-minAllowed":if(!k.isBlank(e)&&"data-minAllowed"==a&&k.checkMinAllowed(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_VALUE_BELOW_MINIMUM);BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "data-maxAllowed":if(!k.isBlank(e)&&"data-maxAllowed"==a&&k.checkMaxAllowed(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_VALUE_ABOVE_MAXIMUM);
BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "data-earliestDate":if(!k.isBlank(e)&&"data-earliestDate"==a&&k.checkEarliestDate(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_DATE_TOO_EARLY);BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "data-latestDate":if(!k.isBlank(e)&&"data-latestDate"==a&&k.checkLatestDate(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_DATE_TOO_LATE);BCUS.addAdaTag(e.id,"aria-describedby",b);
break}case "data-noSoonerThan":if(!k.isBlank(e)&&"data-noSoonerThan"==a&&k.checkNoSoonerThan(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_DATE_MISMATCH);BCUS.addAdaTag(e.id,"aria-describedby",b);break}case "data-noLaterThan":if(!k.isBlank(e)&&"data-noLaterThan"==a&&k.checkNoLaterThan(e,p)){c=!0;h.addClass(e,"error");h.get(b).innerHTML=k.getErrorMessage(e,l,k.ERROR_DATE_MISMATCH);BCUS.addAdaTag(e.id,"aria-describedby",b);break}default:BCUS.removeAdaTag(e.id,"aria-describedby"),
h.removeClass(e,"error")}}if(c)break;else if(null!=f&&d===n-1)for(p=0,a=f.length;p<a;p+=1)f[p].field===e.id&&f[p].callback.call(null,f[p].callback)}},isBlank:function(d,f){var e=YAHOO.lang,l=YAHOO.util.Dom,h=l.hasClass(d,"yui-menu-button")?"button":d.type.toLowerCase(),k;if("checkbox"===h)k=!d.checked;else if("button"===h&&0==YAHOO.util.Dom.getElementsByClassName("notLogged").length)if(e=l.get(f+"-button").innerHTML,'\x3cem class\x3d"yui-button-label"\x3ePlease select\x3c/em\x3e'==e||"\x3cEM class\x3dyui-button-label\x3ePlease select\x3c/EM\x3e"==
e){e=BCUS.validate;h=YAHOO.util.Dom.getAttribute(f,"data-beanclass");if("undefined"==h||void 0==h)h=BCUS.recoveredBean;var m=d.id+"_Error";l.addClass(d,"error");l.addClass(f,"errorBorder");l.get(m).innerHTML=e.getErrorMessage(d,h,BCUS.validate.ERROR_VALUE_EXPRESSION_FAILED)}else l.removeClass(d,"error"),l.removeClass(f,"errorBorder");else k=d.value?""===e.trim(d.value)||0===e.trim(d.value).length:!0;return k},checkMask:function(d,f){null!=YAHOO.util.Dom.getAttribute(d,"data-mask")?(f=new RegExp(f),
f=!f.test(d.value)):f=!1;return YAHOO.util.Dom.hasClass(d,"isDate")&&!BCUS.validateDate(d.value)?!0:f},checkMatch:function(d,f){var e=YAHOO.util.Dom;return e.get(f)?"password"==e.getAttribute(d,"type")?d.value!==e.get(f).value:d.value.toLowerCase()!==e.get(f).value.toLowerCase():!1},checkMaxLength:function(d,f){var e=YAHOO.lang;return null!=YAHOO.util.Dom.getAttribute(d,"maxlength")?e.trim(d.value).length>f:!1},checkDataMaxLength:function(d,f){var e=YAHOO.lang;return null!=YAHOO.util.Dom.getAttribute(d,
"data-maxlength")?e.trim(d.value).length>f:!1},checkMinLength:function(d,f){var e=YAHOO.lang;return null!=YAHOO.util.Dom.getAttribute(d,"data-minlength")?e.trim(d.value).length<f:!1},checkRequired:function(d){return isBlank(d)},checkSelectedMenuItem:function(d){var f=YAHOO.util.Dom,e=d.newValue.index,l=d.newValue.parent,h=!0;"please select"===d.newValue.value.toLowerCase()||0===e?(f.get(l).addClass("error"),h=!1):f.get(l).removeClass("error");return h},checkPassword:function(d,f){f=!1;null!=YAHOO.util.Dom.getAttribute(d,
"data-password")&&(f=new RegExp(BCUS.Constants.Password.PWD_REGEX),f=!f.test(d.value));return f},checkMinAllowed:function(d,f){Dom=YAHOO.util.Dom;result=!1;return result=null!=Dom.getAttribute(d,"data-minAllowed")?parseInt(d.value.replace(/\,/g,""))<f:!1},checkMaxAllowed:function(d,f){Dom=YAHOO.util.Dom;result=!1;null!=Dom.getAttribute(d,"data-maxAllowed")?(d=d.value.replace(/,/g,""),result=parseFloat(d)>f):result=!1;return result},checkEarliestDate:function(d,f){var e=!1;null!=YAHOO.util.Dom.getAttribute(d,
"data-earliestDate")&&(d=new Date(d.value),2E3>d.getFullYear()&&d.setFullYear(d.getFullYear()%100+2E3),f=new Date(f),f.setHours(0),f.setMinutes(0),f.setSeconds(0),d.setSeconds(1),e=d<f);return e},checkLatestDate:function(d,f){var e=!1;if(""==f)return!1;null!=YAHOO.util.Dom.getAttribute(d,"data-latestDate")&&(d=new Date(d.value),2E3>d.getFullYear()&&d.setFullYear(d.getFullYear()%100+2E3),e=d>new Date(f));return e},checkNoSoonerThan:function(d,f){var e=YAHOO.util.Dom,l=!1;try{var h=new Date(e.get(f).value);
2E3>h.getFullYear()&&h.setFullYear(h.getFullYear()%100+2E3)}catch(k){return!1}null!=e.getAttribute(d,"data-noSoonerThan")&&h&&(d=new Date(d.value),2E3>d.getFullYear()&&d.setFullYear(d.getFullYear()%100+2E3),l=d<h);return l},checkNoLaterThan:function(d,f){var e=YAHOO.util.Dom,l=!1;try{var h=new Date(e.get(f).value);2E3>h.getFullYear()&&h.setFullYear(h.getFullYear()%100+2E3)}catch(k){return!1}null!=e.getAttribute(d,"data-noLaterThan")&&h&&(d=new Date(d.value),2E3>d.getFullYear()&&d.setFullYear(d.getFullYear()%
100+2E3),l=d>h);return l},getErrorMessage:function(d,f,e){var l=d.id;-1!=l.indexOf("quantityBox")&&(l="quantity");-1!=l.indexOf("onboard")&&(l="onBoardDeliveryInfo."+l.substring(8,l.indexOf("_",9)));-1!=l.indexOf("menubutton-d")&&(l="onBoardDeliveryInfo.funShipName");-1!=l.indexOf("menubutton-s-")&&(l="stateMenu");-1!=l.indexOf("secQuestionAnswer")&&(l="secQuestionAnswer");var h=YAHOO.util.Dom;YAHOO.util.Connect.asyncRequest("GET","errorMessage?key\x3d"+(f+"."+l+"."+e),{success:function(e){try{var f=
YAHOO.lang.JSON.stringify(eval(e.responseText));h.get(d.id+"_Error").innerHTML=YAHOO.lang.JSON.parse(f)}catch(n){h.get(d.id+"_Error").innerHTML=""}},failure:function(){"cashForPoints"!=d.id&&(h.get(d.id+"_Error").innerHTML="")}})}};
(function(){function d(a,c){return-1!==a.indexOf(c)}function f(a,c){YAHOO.util.Connect.asyncRequest("GET",a,{success:function(a){try{var b="\x3ch1 id\x3d'faqTitle'\x3eCommonly asked questions\x3c/h1\x3e";YAHOO.lang.JSON.parse(a.responseText,function(a,c){"question"==a?b+="\x3cbr\x3e\x3cstrong\x3e\x3cdiv id\x3d'faqQuestion'\x3e"+c+"\x3c/div\x3e\x3c/strong\x3e":"answer"==a&&(b+="\x3cdiv id\x3d'faqAnswer'\x3e"+c+"\x3c/div\x3e")});a=c+"Panel";BCUS.faqPanel=new YAHOO.widget.Overlay(a,{context:["help",
"tl","tr",["beforeShow","windowResize"],[-204,20]],fixedcenter:!1,visible:!1,width:"395px",constraintoviewport:!1,draggable:!1,zIndex:9005});BCUS.faqPanel.setHeader(" ");BCUS.faqPanel.setBody(b);BCUS.faqPanel.setFooter("Still have more questions? Visit our \x3ca href\x3d'/servicing/headerLinks?handleFaq\x3d' event\x3d'footerFaq' class\x3d'footerFaq'\x3eHelp page\x3c/a\x3e");BCUS.faqPanel.render(document.body);BCUS.faqPanel.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25});
YAHOO.util.Dom.addClass("help","helpOn");YAHOO.util.Dom.addClass(a,"faqTextOn");BCUS.faqPanel.align("tl","tr");BCUS.faqPanel.show();YAHOO.util.Event.removeListener(document,"click",BCUS.faqToggle);YAHOO.util.Event.removeListener("help","click",BCUS.faqRender);YAHOO.util.Event.addListener(document,"click",BCUS.faqToggle)}catch(x){}},failure:function(a){}})}function e(a){var c=YAHOO.util.Dom.get(a.id),b=!0;c.addEventListener("focusout",function(g){!a.cfg.getProperty("visible")||g.relatedTarget&&c.contains(g.relatedTarget)||
(b?c:document.getElementById("container-close")).focus()});c.addEventListener("keydown",function(a){9==a.which&&(b=!a.shiftKey)})}function l(a){return"\x3cimg type\x3d'passmarkImage' src\x3d\""+a+'" alt\x3d"'+a+'" \x3e'}function h(a,c,b){var g=this,d=c;YAHOO.util.Connect.asyncRequest("GET","login?getPassmarkImages\x3dgetPassmarkImages\x26from\x3d"+c+"\x26to\x3d"+b+"\x26category\x3d"+a,{success:function(a){var b=d,c=0;a=eval("("+a.responseText+")");var e,f;for(d+=a.length;b<d;){if(a[c])e=l(a[c]),f=
g.getLoadingItems(),f[b]?g.replaceItem(e,b):g.addItem(e);else break;b++;c++}},failure:function(a){alert("Ajax request failed!")}})}function k(a,c,b){var g=this;YAHOO.util.Connect.asyncRequest("GET","login?getPassmarkImages\x3dgetPassmarkImages\x26from\x3d"+c+"\x26to\x3d"+b+"\x26category\x3d"+a,{success:function(a){try{var b,c=eval("("+a.responseText+")");n=c.length;for(b=0;b<n;b++)p.push(c[b]);if("undefined"!=typeof g){for(b=0;b<n;b++)g.addItem(l(p[b]));g.set("selectedItem",g.get("firstVisible"));
p=[]}}catch(t){alert("The feed did not return any images."+t)}},failure:function(a){alert("Failure on getCallback()")}})}BCUS.namespace("Panel","Dialogs","PageLoaded","DataTable","Controls","Options","Products","Tags","XHR");BCUS.Tags.scode={hostname:document.location.host.toLowerCase()||"",account:document.location.host.toLowerCase().match(/^(127\.|10\.|192\.|localhost|dev0[123]|qa0[123]|vdas*|vqas*|preprod|dd|dg|jagd|tiger|panther)/i)?"barclaysecmwebdev":"barclaysglobalcm",pageView:function(a,c,
b){s.pageName=c+a;s.channel=c;s.prop11=b;s.events="event17";s.t()}};BCUS.Tags.ga={qaTrackingCode:"UA-5741612-3",prodTrackingCode:"UA-5741612-4"};BCUS.clearInput=function(a){Modernizr.input.placeholder?(a=YAHOO.util.Event.getTarget(a),YAHOO.util.Dom.getAttribute(a,"placeholder")&&a.value!=YAHOO.util.Dom.getAttribute(a,"placeholder")||(a.value="")):(a=YAHOO.util.Event.getTarget(a),"username"==a.id?"Enter Username"==a.value&&(a.value=""):YAHOO.util.Dom.getAttribute(a,"placeholder")&&a.value!=YAHOO.util.Dom.getAttribute(a,
"placeholder")||(a.value=""))};BCUS.preventDefault=function(a){a=a||window.event;a.preventDefault&&a.preventDefault();a.returnValue=!1};BCUS.menuSwitch=function(a){1!=a&&BCUS.toolTip};BCUS.createErrorPanel=function(a){void 0===a.id&&(a.id=a.get("id"));var c=a.id;"radio"==a.type&&(c=a.name);var b=c+"_Error",g=a.id;YAHOO.util.Dom.getAttribute(YAHOO.util.Dom.get(a.id),"data-fieldDisplay")&&(g=YAHOO.util.Dom.getAttribute(YAHOO.util.Dom.get(a),"data-fieldDisplay"));if(d("checkTerms canPrintVerification stopPaperStmts listOfDeviceInstances1 listOfCustomerIds1 assent card1 agreeToTermsCheckbox enrollOfferMile".split(" "),
c)){a="\x3cp\x3e"+YAHOO.util.Dom.get(b).innerHTML+"\x3c/p\x3e";var b=b+"Panel",e=!YAHOO.util.Dom.get(c).checked;"stopPaperStmts"!==c||YAHOO.util.Dom.get("canPrintVerification").checked||(e=!1);BCUS.errorPanel=new YAHOO.widget.Overlay(b,{context:[g,"tl","tr",["beforeShow","windowResize"],[-255,-28]],fixedcenter:!1,visible:e,constraintoviewport:!1,draggable:!1,zIndex:9E3,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}});BCUS.errorPanel.setHeader("");BCUS.errorPanel.setBody('\x3cdiv class\x3d"errorIcon"\x3e \x3c/div\x3e\x3cstrong\x3eError\x3c/strong\x3e'+
a);BCUS.errorPanel.render(document.body);YAHOO.util.Dom.addClass(b,"error");BCUS.errorPanel.align("tl","tr");e&&BCUS.errorPanel.show()}else{if("payDateType"===c){if(!YAHOO.util.Dom.get(b))return;c="undefined"===YAHOO.util.Dom.get(b).innerHTML||""===YAHOO.util.Dom.get(b).innerHTML&&"cashForPoints_Error"!==b?'\x3cp class\x3d"noErrorMessage"\x3e\x3c/p\x3e':"\x3cp\x3e"+YAHOO.util.Dom.get(b).innerHTML+"\x3c/p\x3e";b+="Panel";BCUS.errorPanel=new YAHOO.widget.Overlay(b,{context:[g,"tl","tr",["beforeShow",
"windowResize"],[580,-80]],fixedcenter:!1,visible:!0,width:"190px",constraintoviewport:!1,draggable:!1,zIndex:9E3,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}})}else{if(!YAHOO.util.Dom.get(b))return;c="undefined"===YAHOO.util.Dom.get(b).innerHTML||""===YAHOO.util.Dom.get(b).innerHTML&&"cashForPoints_Error"!==b?'\x3cp class\x3d"noErrorMessage"\x3e\x3c/p\x3e':"\x3cp\x3e"+YAHOO.util.Dom.get(b).innerHTML+"\x3c/p\x3e";b+="Panel";BCUS.errorPanel=new YAHOO.widget.Overlay(b,{context:[g,
"tl","tr",["beforeShow","windowResize"],[23,-15]],fixedcenter:!1,visible:!0,width:"190px",constraintoviewport:!1,draggable:!1,zIndex:9E3,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}})}BCUS.errorPanel.setHeader("");BCUS.errorPanel.setBody('\x3cdiv class\x3d"errorIcon"\x3e \x3c/div\x3e\x3cstrong\x3eError\x3c/strong\x3e'+c);BCUS.errorPanel.render(document.body);YAHOO.util.Dom.addClass(b,"error");BCUS.errorPanel.align("tl","tr");BCUS.errorPanel.show()}return BCUS.errorPanel};BCUS.toolTip=
function(a,c){var b=YAHOO.util.Event.getTarget(a);b||(b=a);YAHOO.util.Dom.hasClass(b,"noToolTip")&&"radio"==YAHOO.util.Dom.getAttribute(b,"type")||YAHOO.util.Dom.hasClass(b,"neverToolTip")||(YAHOO.util.Dom.getAncestorByClassName(b,"yui-menu-button")&&(b=YAHOO.util.Dom.getAncestorByClassName(b,"yui-menu-button")),a=this,a.getDOMNodes&&(a=a.getDOMNodes()),BCUS.renderToolTip(b,a,c))};BCUS.renderToolTip=function(a,c,b){void 0===a.id&&(a.id=a.get("id"));var g=a.id,d=g+"_Tip",e=g,f=YAHOO.util.Dom.hasClass(g,
"yui-menu-button");if(f){var h=Dom.getElementBy(function(){return!0},"button",g),k=YAHOO.util.Dom.getNextSibling(g);YAHOO.util.Dom.setStyle(k,"visibility","visible");YAHOO.util.Dom.removeClass(k,"yui-overlay-hidden");YAHOO.util.Dom.addClass(k,"visible");YAHOO.util.Dom.setStyle(k,"z-index","2");Dom.get(g).setAttribute("data-beanclass",b)}YAHOO.util.Dom.getAttribute(YAHOO.util.Dom.get(g),"data-fieldDisplay")&&(e=YAHOO.util.Dom.getAttribute(YAHOO.util.Dom.get(g),"data-fieldDisplay"));if(YAHOO.util.Dom.hasClass(g,
"error"))if(BCUS.addAdaTag(g,"aria-invalid","true"),BCUS.addAdaTag(g,"aria-describedby",g+"_Error"),BCUS.createErrorPanel(a),f)YAHOO.util.Event.addListener(document,"click",BCUS.fieldClickErrorToggle,g),(new YAHOO.util.KeyListener(h,{keys:9},function(a){BCUS.tabErrorToggle(g)})).enable(),(new YAHOO.util.KeyListener(h,{shift:!0,keys:9},function(a){BCUS.tabErrorToggle(g)})).enable();else if(YAHOO.util.Dom.hasClass(g,"yui-checkbox-button")||YAHOO.util.Dom.hasClass(g,"handle-tooltip"))YAHOO.util.Event.addListener(g,
"click",BCUS.checkboxClickErrorToggle,g);else if(c==YAHOO.util.Dom.get("continueButton-button")&&YAHOO.util.Dom.isAncestor("balanceTransferForm","continueButton-button")){var q=function(a){"continueButton-button"!=YAHOO.util.Event.getTarget(a).id&&(YAHOO.util.Dom.addClass("findBank_ErrorPanel","yui-overlay-hidden"),YAHOO.util.Dom.setStyle("findBank_ErrorPanel","visibility","hidden"),YAHOO.util.Event.removeListener(document,"click",q))};YAHOO.util.Event.addListener(document,"click",q)}else YAHOO.util.Event.on(c,
"focusout",BCUS.errorPanel.hide,BCUS.errorPanel,!0);else if(YAHOO.util.Dom.hasClass(g,"noToolTip")&&f)BCUS.addAdaTag(g,"aria-invalid","false"),BCUS.removeAdaTag(g,"aria-describedby"),YAHOO.util.Dom.addClass(g,"tipBorder"),YAHOO.util.Event.addListener(document,"click",BCUS.fieldClickHelpToggle,g),(new YAHOO.util.KeyListener(h,{keys:9},function(a){BCUS.tabHelpToggle(g)})).enable(),(new YAHOO.util.KeyListener(h,{shift:!0,keys:9},function(a){BCUS.tabHelpToggle(g)})).enable();else if(YAHOO.util.Dom.get(d)&&
!YAHOO.util.Dom.hasClass(g,"noToolTip"))if(BCUS.addAdaTag(g,"aria-invalid","false"),BCUS.addAdaTag(g,"aria-describedby",d),a=YAHOO.util.Dom.get(d).innerHTML,d+="Panel",BCUS.fieldPanel=new YAHOO.widget.Overlay(d,{context:[e,"tl","tr",["beforeShow","windowResize"],[23,-15]],fixedcenter:!1,visible:!0,width:"190px",constraintoviewport:!1,draggable:!1,zIndex:9E3,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}}),BCUS.fieldPanel.setHeader(""),BCUS.fieldPanel.setBody(a),BCUS.fieldPanel.render(document.body),
YAHOO.util.Dom.addClass(d,"toolTip"),-1!=d.indexOf("onboard_bookingNumber")&&YAHOO.util.Dom.addClass(d,"cruiseBookingToolTip"),BCUS.fieldPanel.align("tl","tr"),f)YAHOO.util.Dom.addClass(g,"tipBorder"),YAHOO.util.Event.addListener(document,"click",BCUS.fieldClickHelpToggle,g),(new YAHOO.util.KeyListener(h,{keys:9},function(a){BCUS.tabHelpToggle(g)})).enable(),(new YAHOO.util.KeyListener(h,{shift:!0,keys:9},function(a){BCUS.tabHelpToggle(g)})).enable();else YAHOO.util.Event.on(c,"focusout",BCUS.fieldPanel.hide,
BCUS.fieldPanel,!0);else return BCUS.addAdaTag(g,"aria-invalid","false"),BCUS.removeAdaTag(g,"aria-describedby"),!1};BCUS.tabTypeTrigger=function(a,c){a=YAHOO.util.Dom.get(a);BCUS.renderToolTip(a,a,c)};BCUS.tabHelpToggle=function(a){var c=YAHOO.util.Dom.get(a),b=a+"_TipPanel";BCUS.fieldPanel.hide();YAHOO.util.Dom.removeClass(a,"tipBorder");YAHOO.util.Dom.addClass(b,"yui-overlay-hidden");YAHOO.util.Dom.setStyle(b,"visibility","hidden");b=YAHOO.util.Dom.getNextSibling(a);YAHOO.util.Dom.setStyle(b,"visibility",
"hidden");YAHOO.util.Dom.setStyle(b,"z-index","-1");BCUS.validate.isBlank(c,a);YAHOO.util.Event.removeListener(document,"click",BCUS.fieldClickHelpToggle)};BCUS.tabErrorToggle=function(a){var c=YAHOO.util.Dom.get(a);BCUS.errorPanel.hide();YAHOO.util.Event.removeListener(document,"click",BCUS.fieldClickErrorToggle);var b=YAHOO.util.Dom.getNextSibling(a);YAHOO.util.Dom.setStyle(b,"visibility","hidden");YAHOO.util.Dom.setStyle(b,"z-index","-1");BCUS.validate.isBlank(c,a)};BCUS.fieldClickHelpToggle=function(a,
c){var b=YAHOO.util.Event.getTarget(a),g=b,d=c+"_TipPanel";YAHOO.util.Dom.get(d);a=YAHOO.util.Dom.get(c);YAHOO.util.Dom.getAncestorByClassName(b,"yui-menu-button")&&(b=YAHOO.util.Dom.getAncestorByClassName(b,"yui-menu-button"));b!=a?(YAHOO.util.Dom.removeClass(c,"tipBorder"),YAHOO.util.Dom.addClass(d,"yui-overlay-hidden"),YAHOO.util.Dom.setStyle(d,"visibility","hidden"),b=YAHOO.util.Dom.getNextSibling(c),YAHOO.util.Dom.addClass(b,"yui-overlay-hidden"),YAHOO.util.Dom.setStyle(b,"visibility","hidden"),
YAHOO.util.Dom.setStyle(b,"z-index","-1"),YAHOO.util.Dom.removeClass(b,"visible"),BCUS.validate.isBlank(a,c),YAHOO.util.Event.removeListener(document,"click",BCUS.fieldClickHelpToggle)):b==a&&YAHOO.util.Dom.getAncestorByClassName(g,"yui-menu-button")&&YAHOO.util.Dom.get(b).focus()};BCUS.fieldClickErrorToggle=function(a,c){var b=YAHOO.util.Event.getTarget(a),g=b,d=c+"_ErrorPanel";YAHOO.util.Dom.get(d);a=YAHOO.util.Dom.get(c);YAHOO.util.Dom.getAncestorByClassName(b,"yui-menu-button")&&(b=YAHOO.util.Dom.getAncestorByClassName(b,
"yui-menu-button"));b!=a?(YAHOO.util.Dom.addClass(d,"yui-overlay-hidden"),YAHOO.util.Dom.setStyle(d,"visibility","hidden"),b=YAHOO.util.Dom.getNextSibling(c),YAHOO.util.Dom.addClass(b,"yui-overlay-hidden"),YAHOO.util.Dom.setStyle(b,"visibility","hidden"),YAHOO.util.Dom.removeClass(b,"visible"),YAHOO.util.Dom.setStyle(b,"z-index","-1"),BCUS.validate.isBlank(a,c),YAHOO.util.Event.removeListener(document,"click",BCUS.fieldClickErrorToggle)):b==a&&YAHOO.util.Dom.getAncestorByClassName(g,"yui-menu-button")&&
YAHOO.util.Dom.get(b).focus()};BCUS.checkboxClickErrorToggle=function(a,c){a=c+"_ErrorPanel";"stopPaperStmts"===c||"canPrintVerification"===c||d(["listOfDeviceInstances1","listOfCustomerIds1"],c)?"canPrintVerification"==c?YAHOO.util.Dom.get(c).checked?(YAHOO.util.Dom.addClass(a,"yui-overlay-hidden"),YAHOO.util.Dom.setStyle(a,"visibility","hidden"),YAHOO.util.Dom.removeClass(c,"errorBorder"),YAHOO.util.Dom.get("stopPaperStmts").checked||(YAHOO.util.Dom.addClass("stopPaperStmts_ErrorPanel","yui-overlay"),
YAHOO.util.Dom.setStyle("stopPaperStmts_ErrorPanel","visibility","visible"),YAHOO.util.Dom.addClass("stopPaperStmts","errorBorder"))):(YAHOO.util.Dom.addClass(a,"yui-overlay"),YAHOO.util.Dom.setStyle(a,"visibility","visible"),YAHOO.util.Dom.addClass(c,"errorBorder"),YAHOO.util.Dom.get("stopPaperStmts").checked||(YAHOO.util.Dom.addClass("stopPaperStmts_ErrorPanel","yui-overlay-hidden"),YAHOO.util.Dom.setStyle("stopPaperStmts_ErrorPanel","visibility","hidden"),YAHOO.util.Dom.removeClass("stopPaperStmts",
"errorBorder"))):!YAHOO.util.Dom.get(c).checked||"listOfDeviceInstances1"===c&&"listOfCustomerIds1"===c?YAHOO.util.Dom.get("canPrintVerification").checked&&(YAHOO.util.Dom.addClass(a,"yui-overlay"),YAHOO.util.Dom.setStyle(a,"visibility","visible"),YAHOO.util.Dom.addClass(c,"errorBorder")):(YAHOO.util.Dom.addClass(a,"yui-overlay-hidden"),YAHOO.util.Dom.setStyle(a,"visibility","hidden"),YAHOO.util.Dom.removeClass(c,"errorBorder")):YAHOO.util.Dom.hasClass(c,"yui-button-checked")||YAHOO.util.Dom.get(c).checked?
(YAHOO.util.Dom.addClass(a,"yui-overlay-hidden"),YAHOO.util.Dom.setStyle(a,"visibility","hidden"),YAHOO.util.Dom.removeClass(c,"errorBorder"),"enrollOfferMile"===c&&YAHOO.util.Dom.removeClass(c,"error")):"card1"!=c&&(YAHOO.util.Dom.addClass(a,"yui-overlay"),YAHOO.util.Dom.setStyle(a,"visibility","visible"),YAHOO.util.Dom.addClass(c,"errorBorder"),"enrollOfferMile"===c&&YAHOO.util.Dom.addClass(c,"error"))};BCUS.implementAdaYuiSolution=function(a){if(implementYuiModalAdaSolution)BCUS.appendOutside(),
BCUS.isKeyDown(a);else return!1};BCUS.appendOutside=function(){var a=YAHOO.util.Dom.getElementsByClassName("yui-panel-container")[0];YAHOO.util.Dom.get("app-body").appendChild(a);setTimeout(BCUS.focus(a),500);BCUS.closeModal(a)};BCUS.hideBackground=function(a){for(var c=YAHOO.util.Dom.getChildren("app-body"),b=0;b<c.length;b++)c[b]!==a&&c[b].setAttribute("aria-hidden","true")};BCUS.focusBackground=function(){for(var a=YAHOO.util.Dom.getChildren("app-body"),c=0;c<a.length;c++)a[c].removeAttribute("aria-hidden")};
BCUS.closeModal=function(a){a=a.getElementsByClassName("container-close");YAHOO.util.Event.addListener(a,"click",BCUS.focusBackground)};BCUS.focus=function(a){var c=a.querySelectorAll("[role\x3d'heading']")[0],b=a.querySelectorAll("[tabindex]");BCUS.hideBackground(a);c?(c.setAttribute("tabindex","-1"),c.focus()):(a.setAttribute("tabindex","-1"),a.focus());for(a=0;a<b.length;a++)0<b[a].getAttribute("tabindex")&&b[a].removeAttribute("tabindex")};BCUS.findFocusableElements=function(a){return a.getFocusableElements()};
BCUS.isKeyDown=function(a){var c=BCUS.findFocusableElements(a);YAHOO.util.Event.addListener(c,"keydown",function(a){var b=a.which;9!==b||a.shiftKey?9===b&&a.shiftKey&&(a.preventDefault(),BCUS.isShiftAndTabKeyPress(c)):(a.preventDefault(),BCUS.isTabKeyPress(c))})};BCUS.isTabKeyPress=function(a){var c=a.length,b=document.activeElement,g=-1,g=a.indexOf(b)+1===c?0:a.indexOf(b)+1;setTimeout(function(){a[g].focus()},100)};BCUS.isShiftAndTabKeyPress=function(a){var c=a.length,b=document.activeElement,g=
-1,g=0===a.indexOf(b)||-1===a.indexOf(b)?c-1:Math.abs(a.indexOf(b)-1);setTimeout(function(){a[g].focus()},100)};BCUS.focusBackElement=function(a){implementYuiModalAdaSolution&&a&&(BCUS.focusBackground(),setTimeout(function(){a.hasAttribute("tabindex")||a.setAttribute("tabindex","-1");a.focus()},500))};BCUS.addAriaExpansionTag=function(a){var c=document.getElementsByClassName("yui-dt-expandablerow-trigger");a=Event.getTarget(a);for(var b=0;b<c.length;b++)"false"===c[b].getAttribute("aria-expanded")&&
c[b]===a?c[b].setAttribute("aria-expanded","true"):c[b].setAttribute("aria-expanded","false")};BCUS.focusOnFirstField=function(a,c){if(YAHOO.util.Dom.get(a)){a=document.forms[a];var b=!1,g=null,d=null,e=0,f=!1;for(null!=c&&(f=c);!b&&e<a.elements.length;){c=YAHOO.util.Dom.get(a.elements[e].id);if(null!=c){var h=!0;if("input"==c.tagName.toLowerCase()){var k=c.getAttribute("type");null==k||"radio"!=k.toLowerCase()&&"checkbox"!=k.toLowerCase()||(h=!1)}h&&(null==g&&(g=c),YAHOO.util.Dom.hasClass(c,"error")&&
(b=!0,d=c))}e++}b||null==g||f||(d=g);null!=d&&showFocusOnFirst&&d.focus()}};BCUS.faqRender=function(){f("messageCenter?getFAQs","help_faq")};BCUS.faqToggle=function(a){a=YAHOO.util.Event.getTarget(a);var c=YAHOO.util.Dom.get("help_faqPanel"),b=YAHOO.util.Dom.get("help");a==c||YAHOO.util.Dom.isAncestor(c,a)||(a==b?BCUS.faqPanel.cfg.getProperty("visible")?(BCUS.faqPanel.hide(),YAHOO.util.Dom.removeClass("help","helpOn")):(BCUS.faqPanel.show(),YAHOO.util.Dom.addClass("help","helpOn")):(BCUS.faqPanel.hide(),
YAHOO.util.Dom.removeClass("help","helpOn")))};BCUS.cashBackDeliveryRender=function(a,c){var b="where"+c+"Panel",g=c.toLowerCase()+"Panel";a=YAHOO.util.Event.getTarget(a);if(BCUS[g])YAHOO.util.Dom.hasClass(a,"cbdhelpOn")?(g=BCUS[g],g.hide(),YAHOO.util.Dom.removeClass(a,"cbdhelpOn"),YAHOO.util.Event.addListener(a,"click",BCUS.cashBackDeliveryToggle,{str:c.toLowerCase()}),YAHOO.util.Event.removeListener(document,"click",BCUS.cashBackDeliveryToggle,{str:c.toLowerCase()})):(g=BCUS[g],YAHOO.util.Dom.addClass(a,
"cbdhelpOn"),g.show(),g.beingRendered=!0,YAHOO.util.Event.addListener(document,"click",BCUS.cashBackDeliveryToggle,{str:c.toLowerCase()}));else{var d=YAHOO.util.Dom.get(b).innerHTML;YAHOO.util.Dom.get(b).innerHTML="";BCUS[g]=new YAHOO.widget.Panel(b,{context:[a,"tl","tr",["beforeShow","windowResize"],[-230,16]],fixedcenter:!1,visible:!1,width:"520px",constraintoviewport:!1,draggable:!1,underlay:"none",zIndex:9E3});g=BCUS[g];g.anchor=a;g.panelId=b;g.setHeader("");g.setBody(d);g.render(document.body);
g.beingRendered=!0;g.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25});g.align("tl","tr");YAHOO.util.Dom.removeClass(b,"hide");YAHOO.util.Dom.addClass(a,"cbdhelpOn");g.show();YAHOO.util.Event.removeListener(a,"click");YAHOO.util.Event.addListener(document,"click",BCUS.cashBackDeliveryToggle,{str:c.toLowerCase()})}};BCUS.cashBackDeliveryToggle=function(a,c){var b=BCUS[c.str.toLowerCase()+"Panel"];if(b.beingRendered)b.beingRendered=!1;else if(b){a=YAHOO.util.Event.getTarget(a);
var g=YAHOO.util.Dom.get(b.panelId),d=YAHOO.util.Dom.get(b.anchor);a==g||YAHOO.util.Dom.isAncestor(g,a)||(a!=d&&!YAHOO.util.Dom.isAncestor(d,a)||YAHOO.util.Dom.hasClass(b.anchor,"cbdhelpOn")?(b.hide(),YAHOO.util.Dom.removeClass(b.anchor,"cbdhelpOn"),YAHOO.util.Event.removeListener(document,"click",BCUS.cashBackDeliveryToggle,{str:c.str})):(b.show(),YAHOO.util.Dom.addClass(b.anchor,"cbdhelpOn")))}};BCUS.calculatorRender=function(a){a=YAHOO.util.Event.getTarget(a);BCUS.calcPanel||(BCUS.calcPanel=new YAHOO.widget.Panel("calculatorPanel",
{context:[a,"tl","tr",["beforeShow","windowResize"],[-330,25]],fixedcenter:!1,visible:!1,width:"450px",constraintoviewport:!1,draggable:!1,underlay:"none",zIndex:3E3}),BCUS.calcPanel.setHeader(""),BCUS.calcPanel.render(document.body),BCUS.calcPanel.render(),BCUS.calcPanel.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}),BCUS.calcPanel.align("tl","tr"),YAHOO.util.Dom.removeClass("calculatorPanel","hide"),BCUS.calcPanel.show(),YAHOO.util.Dom.addClass("calculatorTotal",
"dontVanish"),YAHOO.util.Dom.addClass("bd","manageMOWPanelOpen"),YAHOO.util.Dom.get("cashForPoints").focus(),BCUS.calcPanel.beingRendered=!0,YAHOO.util.Event.removeListener(a,"click",BCUS.calculatorRender),YAHOO.util.Event.addListener(a,"click",BCUS.calculatorToggle),YAHOO.util.Event.addListener(document,"click",BCUS.calculatorToggle))};BCUS.calculatorToggle=function(a){if(BCUS.calcPanel.beingRendered)BCUS.calcPanel.beingRendered=!1;else{a=YAHOO.util.Event.getTarget(a);var c=YAHOO.util.Dom.get("calculatorPanel"),
b=YAHOO.util.Dom.get("calculatorLink");a==c||YAHOO.util.Dom.isAncestor(c,a)?(BCUS.calcPanel.show(),BCUS.calcPanel.beingRendered=!0,YAHOO.util.Dom.addClass("bd","manageMOWPanelOpen"),YAHOO.util.Dom.get("cashForPoints").focus(),YAHOO.util.Dom.addClass("calculatorTotal","dontVanish"),YAHOO.util.Dom.addClass("calculatorLink","calchelpOn")):a!=b&&!YAHOO.util.Dom.isAncestor(b,a)||YAHOO.util.Dom.hasClass("calculatorLink","calchelpOn")?(BCUS.calcPanel.hide(),BCUS.menuButton.getMenu().hide(),YAHOO.util.Dom.removeClass("bd",
"manageMOWPanelOpen"),YAHOO.util.Dom.removeClass("calculatorTotal","dontVanish"),YAHOO.util.Dom.removeClass("calculatorLink","calchelpOn"),YAHOO.util.Dom.get("cashForPoints").value="",Dom.get("calculatorTotal").innerHTML="0",BCUS.calcRates.getMenu().cfg.owner.activeItem=BCUS.calcRates.getMenu().getItem(0),BCUS.calcRates.set("label",'\x3cem class\x3d"yui-button-label"\x3e'+BCUS.calcRates.getMenu().getItem(0).cfg.getProperty("text")+"\x3c/em\x3e"),YAHOO.util.Dom.removeClass("cashForPoints","error")):
(BCUS.calcPanel.show(),BCUS.calcPanel.beingRendered=!0,YAHOO.util.Dom.addClass("bd","manageMOWPanelOpen"),YAHOO.util.Dom.get("cashForPoints").focus(),YAHOO.util.Dom.addClass("calculatorTotal","dontVanish"),YAHOO.util.Dom.addClass("calculatorLink","calchelpOn"))}};BCUS.merchantDisclosureRender=function(a){a=YAHOO.util.Dom.get("merchantDisclosurePanel").innerHTML;YAHOO.util.Dom.get("merchantDisclosurePanel").innerHTML="";YAHOO.util.Dom.hasClass("mdAnchor","mdhelpOn")?(BCUS.cbPanel.hide(),YAHOO.util.Event.addListener("mdAnchor",
"click",BCUS.merchantDisclosureToggle),YAHOO.util.Event.removeListener(document,"click",BCUS.merchantDisclosureToggle)):(BCUS.mdPanel=new YAHOO.widget.Panel("merchantDisclosurePanel",{context:[this,"tl","tr",["beforeShow","windowResize"],[-230,16]],fixedcenter:!1,visible:!1,width:"350px",constraintoviewport:!1,draggable:!1,underlay:"none",zIndex:9E3}),BCUS.mdPanel.setHeader(""),BCUS.mdPanel.setBody(a),BCUS.mdPanel.render(document.body),BCUS.mdPanel.render(),BCUS.mdPanel.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,
duration:.25}),YAHOO.util.Dom.addClass("merchantDisclosurePanel","merchantDisclosureTextOn"),BCUS.mdPanel.align("tl","tr"),YAHOO.util.Dom.removeClass("merchantDisclosurePanel","hide"),BCUS.mdPanel.show(),YAHOO.util.Event.removeListener("mdAnchor","click",BCUS.merchantDisclosureRender),YAHOO.util.Event.addListener(document,"click",BCUS.merchantDisclosureToggle))};BCUS.merchantDisclosureToggle=function(a){if(BCUS.mdPanel){a=YAHOO.util.Event.getTarget(a);var c=YAHOO.util.Dom.get("merchantDisclosurePanel"),
b=YAHOO.util.Dom.get("mdAnchor");a==c||YAHOO.util.Dom.isAncestor(c,a)?(BCUS.mdPanel.show(),YAHOO.util.Dom.addClass("mdAnchor","mdhelpOn")):a!=b&&!YAHOO.util.Dom.isAncestor(b,a)||YAHOO.util.Dom.hasClass("mdAnchor","mbhelpOn")?(BCUS.mdPanel.hide(),YAHOO.util.Dom.removeClass("mdAnchor","mdhelpOn")):(BCUS.mdPanel.show(),YAHOO.util.Dom.addClass("mdAnchor","mdhelpOn"))}};BCUS.purchaseRedemptionRender=function(a,c){var b=YAHOO.util.Dom.get("purchaseRedemptionPanel").innerHTML,g=YAHOO.util.Event.getTarget(a);
BCUS.prPanel?(BCUS.prPanel.hide(),c=BCUS.prPanel.index,BCUS.prPanel=null,YAHOO.util.Dom.hasClass(g,"redeemNowLink")&&(g.id=="rnl_"+c?(YAHOO.util.Event.addListener(g,"click",BCUS.purchaseRedemptionRender,{index:c}),YAHOO.util.Event.removeListener(document,"click",BCUS.purchaseRedemptionToggle)):BCUS.purchaseRedemptionRender(a,{index:g.id.substr(4)}))):(YAHOO.util.Dom.get("purchaseRedemptionPanel").innerHTML="",BCUS.prPanel=new YAHOO.widget.Panel("purchaseRedemptionPanel",{context:[g,"tl","tr",["beforeShow",
"windowResize"],[-180,15]],fixedcenter:!1,visible:!1,width:"275px",constraintoviewport:!1,draggable:!1,underlay:"none",zIndex:9E3}),BCUS.prPanel.setHeader(""),BCUS.prPanel.setBody(b),BCUS.prPanel.render(document.body),BCUS.prPanel.render(),BCUS.prPanel.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}),BCUS.prPanel.index=c.index,YAHOO.util.Dom.addClass("purchaseRedemptionPanel","purchaseRedemptionTextOn"),BCUS.prPanel.align("tl","tr"),YAHOO.util.Dom.removeClass("purchaseRedemptionPanel",
"hide"),BCUS.prPanel.show(),YAHOO.util.Event.removeListener(g,"click",BCUS.purchaseRedemptionRender),YAHOO.util.Event.addListener(document,"click",BCUS.purchaseRedemptionToggle))};BCUS.purchaseRedemptionToggle=function(a,c){BCUS.prPanel&&(c=YAHOO.util.Event.getTarget(a),YAHOO.util.Dom.hasClass(c,"redeemNowLink")&&YAHOO.util.Event.preventDefault(a),a=YAHOO.util.Dom.get("purchaseRedemptionPanel"),c==a||YAHOO.util.Dom.isAncestor(a,c)||c.id=="rnl_"+BCUS.prPanel.index||(BCUS.prPanel.hide(),YAHOO.util.Event.addListener("rnl_"+
BCUS.prPanel.index,"click",BCUS.purchaseRedemptionRender,{index:c.id.substr(4)}),YAHOO.util.Event.removeListener(document,"click",BCUS.purchaseRedemptionToggle),BCUS.prPanel=null))};BCUS.deliveryInfoRender=function(a,c){var b=YAHOO.util.Dom.getAttribute(c,"id")+"DeliveryInfoPanel";a=YAHOO.util.Dom.get(b).innerHTML;YAHOO.util.Dom.get(b).innerHTML="";YAHOO.util.Dom.hasClass(c,"cbhelpOn")?(BCUS[b].hide(),YAHOO.util.Event.addListener(c,"click",BCUS.deliveryInfoToggle),YAHOO.util.Event.removeListener(document,
"click")):(BCUS[b]=new YAHOO.widget.Panel(b,{context:[this,"tl","tr",["beforeShow","windowResize"],[-250,18]],fixedcenter:!1,visible:!1,width:"450px",constraintoviewport:!1,draggable:!1,underlay:"none",zIndex:9E3}),BCUS[b].setHeader(""),BCUS[b].setBody(a),BCUS[b].render(document.body),BCUS[b].render(),BCUS[b].cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}),YAHOO.util.Dom.addClass(b,"deliveryInfoTextOn"),BCUS[b].align("tl","tr"),YAHOO.util.Dom.removeClass(b,"hide"),
BCUS[b].show(),YAHOO.util.Event.removeListener(c,"click",BCUS.deliveryInfoRender),YAHOO.util.Event.addListener(document,"click",function(a){a=YAHOO.util.Event.getTarget(a);var g=YAHOO.util.Dom.get(b);a==g||YAHOO.util.Dom.isAncestor(g,a)?(BCUS[b].show(),YAHOO.util.Dom.addClass(c,"cbhelpOn")):a!=c&&!YAHOO.util.Dom.isAncestor(c,a)||YAHOO.util.Dom.hasClass("cbIcon","cbhelpOn")?(BCUS[b].hide(),YAHOO.util.Dom.removeClass(c,"cbhelpOn")):(BCUS[b].show(),YAHOO.util.Dom.addClass(c,"cbhelpOn"))}))};BCUS.deliveryInfoToggle=
function(a){if(BCUS.cbPanel){a=YAHOO.util.Event.getTarget(a);var c=YAHOO.util.Dom.get("cardBenefitsPanel"),b=YAHOO.util.Dom.get("cbIcon");a==c||YAHOO.util.Dom.isAncestor(c,a)?(BCUS.cbPanel.show(),YAHOO.util.Dom.addClass("cbIcon","cbhelpOn")):a!=b&&!YAHOO.util.Dom.isAncestor(b,a)||YAHOO.util.Dom.hasClass("cbIcon","cbhelpOn")?(BCUS.cbPanel.hide(),YAHOO.util.Dom.removeClass("cbIcon","cbhelpOn")):(BCUS.cbPanel.show(),YAHOO.util.Dom.addClass("cbIcon","cbhelpOn"))}};BCUS.cardBenefitsRender=function(a){a=
YAHOO.util.Dom.get("cardBenefitsPanel").innerHTML;var c=YAHOO.util.Dom.get("cardBenefitsFooter").innerHTML;void 0==BCUS.cbHasBeenRendered&&(BCUS.cbHasBeenRendered=!1);YAHOO.util.Dom.get("cardBenefitsPanel").innerHTML="";YAHOO.util.Dom.hasClass("cbIcon","cbhelpOn")?(BCUS.cbPanel.hide(),YAHOO.util.Event.addListener("cbIcon","click",BCUS.cardBenefitsToggle),YAHOO.util.Event.removeListener(document,"click",BCUS.cardBenefitsToggle)):(BCUS.cbPanel=new YAHOO.widget.Panel("cardBenefitsPanel",{context:[this,
"tl","tr",["beforeShow","windowResize"],[-312,30]],fixedcenter:!1,visible:!1,width:"450px",constraintoviewport:!1,draggable:!1,underlay:"none",zIndex:9E3}),BCUS.cbHasBeenRendered?YAHOO.util.Dom.get("cardBenefitsPanel").innerHTML=a:(BCUS.cbHasBeenRendered=!0,BCUS.cbPanel.setBody(a),BCUS.cbPanel.setHeader(""),BCUS.cbPanel.setFooter(c)),BCUS.cbPanel.render(document.body),BCUS.cbPanel.render(),BCUS.cbPanel.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}),YAHOO.util.Dom.addClass("cardBenefitsPanel",
"cardbenefitsTextOn"),BCUS.cbPanel.align("tl","tr"),YAHOO.util.Dom.removeClass("cardBenefitsPanel","hide"),BCUS.cbPanel.show(),YAHOO.util.Event.removeListener("cbIcon","click",BCUS.cardBenefitsRender),YAHOO.util.Event.addListener(document,"click",BCUS.cardBenefitsToggle))};BCUS.cardBenefitsToggle=function(a){if(BCUS.cbPanel){a=YAHOO.util.Event.getTarget(a);var c=YAHOO.util.Dom.get("cardBenefitsPanel"),b=YAHOO.util.Dom.get("cbIcon");a==c||YAHOO.util.Dom.isAncestor(c,a)?(BCUS.cbPanel.show(),YAHOO.util.Dom.addClass("cbIcon",
"cbhelpOn")):a!=b&&!YAHOO.util.Dom.isAncestor(b,a)||YAHOO.util.Dom.hasClass("cbIcon","cbhelpOn")?(BCUS.cbPanel.hide(),YAHOO.util.Dom.removeClass("cbIcon","cbhelpOn")):(BCUS.cbPanel.show(),YAHOO.util.Dom.addClass("cbIcon","cbhelpOn"))}};BCUS.holdExplanationRender=function(a){a=YAHOO.util.Dom.get("holdPanel").innerHTML;void 0==BCUS.cbHasBeenRendered&&(BCUS.cbHasBeenRendered=!1);YAHOO.util.Dom.get("holdPanel").innerHTML="";YAHOO.util.Dom.hasClass("holdIcon","holdHelpOn")?(BCUS.holdPanel.hide(),YAHOO.util.Event.addListener("holdIcon",
"click",BCUS.holdExplanationToggle),YAHOO.util.Event.removeListener(document,"click",BCUS.holdExplanationToggle)):(BCUS.holdPanel=new YAHOO.widget.Panel("holdPanel",{context:[this,"tl","tr",["beforeShow","windowResize"],[-195,12]],fixedcenter:!1,visible:!1,width:"350px",constraintoviewport:!1,draggable:!1,underlay:"none",zIndex:9E3}),BCUS.holdPanel.showEvent.subscribe(function(){}),BCUS.holdHasBeenRendered?YAHOO.util.Dom.get("holdPanel").innerHTML=a:(BCUS.holdHasBeenRendered=!0,BCUS.holdPanel.setBody(a),
BCUS.holdPanel.setHeader("")),BCUS.holdPanel.render(document.body),BCUS.holdPanel.render(),BCUS.holdPanel.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}),BCUS.holdPanel.align("tl","tr"),YAHOO.util.Dom.removeClass("holdPanel","hide"),BCUS.holdPanel.show(),YAHOO.util.Event.removeListener("holdIcon","click",BCUS.holdExplanationRender),YAHOO.util.Event.addListener(document,"click",BCUS.holdExplanationToggle))};BCUS.holdExplanationToggle=function(a){if(BCUS.holdPanel){a=
YAHOO.util.Event.getTarget(a);var c=YAHOO.util.Dom.get("holdPanel"),b=YAHOO.util.Dom.get("holdIcon");a==c||YAHOO.util.Dom.isAncestor(c,a)?(BCUS.holdPanel.show(),YAHOO.util.Dom.addClass("holdIcon","holdHelpOn")):a!=b&&!YAHOO.util.Dom.isAncestor(b,a)||YAHOO.util.Dom.hasClass("holdIcon","holdHelpOn")?(BCUS.holdPanel.hide(),YAHOO.util.Dom.removeClass("holdIcon","holdHelpOn")):(BCUS.holdPanel.show(),YAHOO.util.Dom.addClass("holdIcon","holdHelpOn"))}};BCUS.enrollTandC=function(a){a=YAHOO.util.Dom.get("enrollTandC").innerHTML;
paperlessTandC=new YAHOO.widget.Overlay("paperlessTandC",{context:["seeDetails","tl","tr",["beforeShow","windowResize"],[-260,15]],fixedcenter:!1,visible:!1,width:"463px",constraintoviewport:!1,draggable:!1,zIndex:9E3,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}});paperlessTandC.setHeader("");paperlessTandC.setBody(a);paperlessTandC.render(document.body);YAHOO.util.Dom.addClass("paperlessTandC","paperlessOverlay");YAHOO.util.Dom.addClass("paperlessTandC","floatLeft");paperlessTandC.align("tl",
"tr");YAHOO.util.Event.addListener(document,"click",BCUS.enrollTandCToggle)};BCUS.enrollTandCToggle=function(a){a=YAHOO.util.Event.getTarget(a);var c=YAHOO.util.Dom.get("paperlessTandC"),b=YAHOO.util.Dom.get("seeDetails");a==c||YAHOO.util.Dom.isAncestor(c,a)||(a==b?paperlessTandC.cfg.getProperty("visible")?(YAHOO.util.Dom.setAttribute("seeDetails","aria-pressed",!1),paperlessTandC.hide(),YAHOO.util.Dom.removeClass("cws-doc","printTandC")):(YAHOO.util.Dom.setAttribute("seeDetails","aria-pressed",!0),
paperlessTandC.show(),YAHOO.util.Dom.addClass("cws-doc","printTandC")):(paperlessTandC.hide(),YAHOO.util.Dom.removeClass("cws-doc","printTandC")))};BCUS.viewDisclousersToggle=function(a){a=YAHOO.util.Event.getTarget(a);var c=YAHOO.util.Dom.get("paperlessTandC"),b=YAHOO.util.Dom.getElementsByClassName("seeDetails"),g,d=function(){paperlessTandC.hide();b[i].focus();YAHOO.util.Dom.removeClass("cws-doc","printTandC")};for(i=0;i<b.length;i++)if(paperlessTandC=new YAHOO.widget.Overlay("paperlessTandC",
{context:[b[i],"tl","tr",["beforeShow","windowResize"],[-205,15]],fixedcenter:!1,visible:!1,width:"463px",constraintoviewport:!1,draggable:!1,zIndex:9E3,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}}),g=null!=YAHOO.util.Dom.get("enrollTandC"+b[i].id)?YAHOO.util.Dom.get("enrollTandC"+b[i].id).innerHTML:YAHOO.util.Dom.get("enrollTandC").innerHTML,paperlessTandC.setFooter("\x3ca class\x3d'container-close' aria-label\x3d'close' style\x3d'top:-10' id\x3d'container-close' href\x3d'javascript:void(0)'\x3e\x3c/a\x3e"),
paperlessTandC.setBody(g),paperlessTandC.render(b[i].nextElementSibling),YAHOO.util.Dom.setAttribute("paperlessTandC","tabindex",0),YAHOO.util.Dom.addClass("paperlessTandC","paperlessOverlay"),YAHOO.util.Dom.addClass("paperlessTandC","floatLeft"),e(paperlessTandC),paperlessTandC.align("tl","tr"),YAHOO.util.Event.addListener(c,"keyup",function(a){27==a.which&&d()}),a!=c&&!YAHOO.util.Dom.isAncestor(c,a))if(a==b[i])if(paperlessTandC.cfg.getProperty("visible"))d();else{paperlessTandC.show();document.getElementById("container-close").focus();
YAHOO.util.Dom.addClass("cws-doc","printTandC");break}else"container-close"===a.id&&d()};BCUS.createOverlay=function(){var a=YAHOO.util.Dom.getElementsByClassName("overlayContent")[0].id,a=YAHOO.util.Dom.get(a).innerHTML,c=YAHOO.util.Dom.getElementsByClassName("overlayLink")[0].id,b=new YAHOO.widget.Overlay("overlay",{width:"36em",height:"18em",context:[c,"tr","br",["beforeShow","windowResize"],[180,2]],effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25},fixedcenter:!1,constraintoviewport:!1,
iframe:!1,monitorresize:!1,visible:!1});b.setHeader("");b.setBody(a);b.render(document.body);YAHOO.util.Dom.addClass("overlay","overlayStyle");YAHOO.util.Event.addListener(document,"click",function(a){BCUS.toggleOverlay(a,b,c)})};BCUS.toggleOverlay=function(a,c,b){a=YAHOO.util.Event.getTarget(a);var d=YAHOO.util.Dom.get("overlay");b=YAHOO.util.Dom.get(b);var e=c.cfg.getProperty("visible");a==d||YAHOO.util.Dom.isAncestor(d,a)||(a==b?e?c.hide():c.show():c.hide())};BCUS.unlinkTravelCommunityOverlay=
function(){var a=YAHOO.util.Dom.get("unlinkTCoverlayContent"),a=YAHOO.util.Dom.get(a).innerHTML,c=YAHOO.util.Dom.get("unlinkTravelCommunityLink"),b=new YAHOO.widget.Overlay("unlinkTCoverlay",{width:"30em",height:"11em",context:[c,"tr","br",["beforeShow","windowResize"],[100,2]],effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25},fixedcenter:!1,constraintoviewport:!1,iframe:!1,monitorresize:!1,visible:!1});b.setHeader("");b.setBody(a);b.render(document.body);YAHOO.util.Dom.addClass("unlinkTCoverlay",
"overlayStyle");YAHOO.util.Event.addListener(document,"click",function(a){BCUS.toggleUnlinkTCoverlay(a,b,c)})};BCUS.toggleUnlinkTCoverlay=function(a,c,b){a=YAHOO.util.Event.getTarget(a);var d=YAHOO.util.Dom.get("unlinkTCoverlay");b=YAHOO.util.Dom.get(b);var e=YAHOO.util.Dom.get("cancelUnlinkTravelCommunity-button"),f=c.cfg.getProperty("visible");a==e&&c.hide();a==d||YAHOO.util.Dom.isAncestor(d,a)||(a==b?f?c.hide():c.show():c.hide())};BCUS.keyRender=function(a){a=YAHOO.util.Dom.get("keyText");var c=
YAHOO.util.Dom.get("keyPanel");YAHOO.util.Dom.hasClass(this,"keyOn")?(c.setAttribute("aria-hidden",!0),BCUS.keyPanel.hide()):(BCUS.keyPanel=new YAHOO.widget.Overlay("keyPanel",{context:[this,"tl","tr",["beforeShow","windowResize"],[-628,20]],fixedcenter:!1,visible:!1,width:"650px",constraintoviewport:!1,draggable:!1,zIndex:9E3}),BCUS.keyPanel.setFooter("\x3ca class\x3d'container-close' aria-label\x3d'close' style\x3d'top:-10' id\x3d'container-close' href\x3d'javascript:void(0)'\x3e\x3c/a\x3e"),BCUS.keyPanel.setBody(a.innerHTML),
BCUS.keyPanel.render(this.nextElementSibling),BCUS.keyPanel.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}),YAHOO.util.Dom.addClass("keyPanel","keyPanel"),YAHOO.util.Dom.setAttribute("keyPanel","tabindex",0),c.setAttribute("aria-hidden",!1),BCUS.keyPanel.align("tl","tr"),e(BCUS.keyPanel),setTimeout(function(){document.getElementById("container-close").focus()},200))};BCUS.keyToggle=function(a){function c(a){a.setAttribute("aria-hidden",!0);BCUS.keyPanel.hide();YAHOO.util.Dom.removeClass(e,
"keyOn");d&&d.focus()}if(YAHOO.util.Dom.get("keyPanel")){a=YAHOO.util.Event.getTarget(a);for(var b=YAHOO.util.Dom.get("keyPanel"),d,e=YAHOO.util.Dom.getElementsByClassName("keyIcon"),f=0;f<e.length;f++)YAHOO.util.Dom.hasClass(e[f],"keyOn")&&(d=e[f]);f=YAHOO.util.Dom.get("container-close");a==b||YAHOO.util.Dom.isAncestor(b,a)?a===f&&c(b):YAHOO.util.Dom.hasClass(a,"keyIcon")?BCUS.keyPanel.cfg.getProperty("visible")||YAHOO.util.Dom.hasClass(a,"keyOn")?(BCUS.keyPanel.hide(),b.setAttribute("aria-hidden",
!0),YAHOO.util.Dom.removeClass(a,"keyOn"),d&&d.focus()):(BCUS.keyPanel.show(),YAHOO.util.Dom.removeClass(e,"keyOn"),YAHOO.util.Dom.addClass(a,"keyOn"),b.setAttribute("aria-hidden",!1)):c(b)}};BCUS.fraudPageClickCheck=function(a){var c=YAHOO.util.Dom,b=YAHOO.util.Event.getTarget(a),d=b.id,e=c.isAncestor("fraudDetectionForm",b),f=c.isAncestor("transactions",b),h=c.getAncestorByTagName(b,"a");c.getElementsBy(function(a){return!0},"a","alert");var k=c.getElementsBy(function(a){return!0},"a"),l=c.hasClass(b,
"container-close"),q=!1,m=c.isAncestor("mainFraudContent",d),u=c.isAncestor("alert",b),n=c.isAncestor("verification",b),p=b.hasAttribute("data-hidePavModal","true");if(h)var v=c.getAttribute(h,"href");for(var r=0;r<k.length;r++)if(b==k[r]||h==k[r])q=u&&"fraudDetection"==v?!1:!0;if(e&&!n&&("accountLink-button"==d||q&&!f)||!m&&!e&&q&&!l&&!p){var w=h?c.getAttribute(h,"href"):c.getAttribute(b,"href"),q=!1;YAHOO.util.Event.preventDefault(a);YAHOO.util.Connect.asyncRequest("GET","pavpopup?warningPop\x3d",
{success:function(a){c.get("isCaseConfirmed_ErrorPanel")&&c.addClass("isCaseConfirmed_ErrorPanel","hideForPav");var b=document.createElement("div");b.innerHTML=a.responseText;b=BCUS.getHtmlById(b,"mainContent","section");BCUS.showOverlay("PAVWarning",b,{aux1:"close",aux2:w})},failure:function(a){}})}};BCUS.deleteRender=function(a,c){document.getElementById("acctDel").innerHTML=" ";c=c.innerHTML;BCUS.deletePanel=new YAHOO.widget.Overlay("acctDel",{context:[a,"tl","tr",["beforeShow","windowResize"],
[-360,20]],fixedcenter:!1,visible:!1,width:"390px",constraintoviewport:!1,draggable:!1,zIndex:9E3});BCUS.deletePanel.showEvent.subscribe(function(){var a=YAHOO.util.Dom.get("bd");YAHOO.util.Dom.addClass(a,"deleteAccountOpen")});BCUS.deletePanel.setHeader("");BCUS.deletePanel.setBody(c);BCUS.deletePanel.render(document.body);BCUS.deletePanel.render();BCUS.deletePanel.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25});YAHOO.util.Dom.addClass("deletePanel","deletePanel");
BCUS.deletePanel.align("tl","tr");BCUS.setupPreventDoubleSubmit();YAHOO.util.Event.on("deleteAccountCanceled-button","click",function(a){YAHOO.util.Event.preventDefault(a);BCUS.deletePanel.hide();return!1});BCUS.deletePanel.show()};BCUS.activatePanelAutotab=function(){var a=YAHOO.util.Event,c=YAHOO.util.Dom;BCUS.namespace("autotab");BCUS.autotab.hasPreviousValue=!1;BCUS.autotab.fields=c.getElementsByClassName("autotab","input");BCUS.autotab.fields.length&&(a.on(BCUS.autotab.fields,"focus",function(a){this.value.length==
this.maxLength&&(BCUS.autotab.hasPreviousValue=!0);c.hasClass(this,"dim")&&(c.removeClass(this,"dim"),this.value="")}),a.on(BCUS.autotab.fields,"keyup",function(a){a=new RegExp("^"+this.name.substring(0,3));this.value.length!=this.maxLength&&(BCUS.autotab.hasPreviousValue=!1);if(!BCUS.autotab.hasPreviousValue&&this.value.length==this.maxLength)for(var b in BCUS.autotab.fields)BCUS.autotab.fields[b].tabIndex==this.tabIndex+1&&a.test(BCUS.autotab.fields[b].name)&&BCUS.autotab.fields[b].focus()}))};
BCUS.getHtmlById=function(a,c,b){a=YAHOO.util.Dom.getElementBy(function(a){return a.id===c},b,a);YAHOO.util.Dom.hasClass(a,"timeoutSection")&&(window.location="timeout");return a.parentNode};YAHOO.util.DataSource&&(YAHOO.util.DataSource.Parser.currency=function(a){if(YAHOO.lang.isString(a))a=a.replace(/^[^0-9\-\.]+|,/g,"");else if(!YAHOO.lang.isNumber(a))return 0;return parseFloat(a)});BCUS.alertBoxAnimate=function(a){a.preventDefault();a=YAHOO.util.Event.getTarget(a);for(var c=a.parentNode,b=null,
e=a;YAHOO.util.Dom.getNextSibling(e);e=YAHOO.util.Dom.getNextSibling(e))if("AlertBox"==YAHOO.util.Dom.getNextSibling(e).id){b=YAHOO.util.Dom.getNextSibling(e);break}YAHOO.util.Dom.addClass(c,"b-alert-animation");var e=new YAHOO.util.Anim(c,{height:{to:0}},.4,YAHOO.util.Easing.easeOut),f=new YAHOO.util.Anim(c,{paddingTop:{to:0}},.4,YAHOO.util.Easing.easeOut),c=new YAHOO.util.Anim(c,{marginBottom:{to:0}},.4,YAHOO.util.Easing.easeOut),b=new YAHOO.util.Anim(b,{opacity:{to:0}},.2);a=new YAHOO.util.Anim(a,
{opacity:{to:0}},.2);b.animate();a.animate();f.animate();c.animate();e.animate();if(YAHOO.util.Dom.get("accountProtectorForm")||YAHOO.util.Dom.get("balanceTransferForm")||YAHOO.util.Dom.get("enrollPaperlessForm")||YAHOO.util.Dom.get("fraudDetectionForm")||YAHOO.util.Dom.get("termsForm")||YAHOO.util.Dom.get("registerAndLinkTravelCommunityForm")||YAHOO.util.Dom.get("verifyBTForm")||YAHOO.util.Dom.get("spendOfferForm"))if(a=YAHOO.util.Dom.getElementsByClassName("error","div"))for(e={top:{by:-87,unit:"px"}},
f=0;f<a.length;f++)d("card1_ErrorPanel listOfDeviceInstances1 listOfCustomerIds1 assent canPrintVerification_ErrorPanel checkTerms_ErrorPanel isCaseConfirmed_ErrorPanel stopPaperStmts_ErrorPanel agreeToTermsCheckbox_ErrorPanel enrollOfferMile_ErrorPanel".split(" "),a[f])&&(new YAHOO.util.Anim(a[f],e,.4,YAHOO.util.Easing.easeOut)).animate()};BCUS.namespace("formatDataTable");BCUS.namespace("formatDataTable.Date");BCUS.namespace("formatDataTable.DateTime");BCUS.formatDataTable.Date=function(a,c,b,d){a.innerHTML=
YAHOO.util.Date.format(d,{format:"%m/%d/%y"})};BCUS.formatDataTable.DateTime=function(a,c,b,d){a.innerHTML=YAHOO.util.Date.format(d,{format:"%m/%d/%y %I:%M %p"})};BCUS.namespace("passmark");var m=null,n,p=[];BCUS.passmark.Carousel={carousel:"",init:function(a,c,b,d,e){YAHOO.util.Dom.get("carouselContainer").innerHTML="";m=new YAHOO.widget.Carousel("carouselContainer",{autoPlayInterval:2E3,isCircular:!1,animation:{speed:.5},numItems:a,numVisible:[5,3]});var g=0,f=15;paginator=new YAHOO.widget.Paginator({containers:"pagination",
rowsPerPage:15,totalRecords:a,pageReportTemplate:"Page {currentPage} of {totalPages}",template:"{PreviousPageLink} \x3cstrong\x3e{CurrentPageReport}\x3c/strong\x3e {NextPageLink}",previousPageLinkLabel:"\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;Previous",previousPageLinkClass:"yui-pg-previous",previousPageLinkTitle:"Previous Page",nextPageLinkLabel:"Next\x26nbsp;\x26nbsp;\x26nbsp;\x26nbsp;",nextPageLinkClass:"yui-pg-next",nextPageLinkTitle:"Next Page"});m.paginator;paginator.subscribe("changeRequest",function(a){var b=
YAHOO.util.Dom.getElementsByClassName("yui-menu-button-menu");YAHOO.util.Dom.setStyle(b,"visibility","hidden");m.set("selectedItem",15*(a.page-1));paginator.setState(a)});m.on("pageChange",function(a){e>=a&&1>(a+1)%e&&(e+=1,g+=15,f+=15,h.call(m,c,g,f));paginator.setPage(a+1,!0)});m.on("click",function(a){var b=a.target.getAttribute("alt");if("passmarkImage"==a.target.getAttribute("type")){a=document.getElementById("passmarkImage");var c=YAHOO.util.Dom.getElementsByClassName("bar");YAHOO.util.Dom.setAttribute(c,
"src",b);YAHOO.util.Dom.setAttribute(a,"value",b);YAHOO.util.Dom.setStyle("browseImagesPanel","visibility","hidden");YAHOO.util.Dom.get("carouselContainer").innerHTML=""}});if(""!=YAHOO.util.Dom.getElementsByClassName("yui-menu-button"))YAHOO.util.Event.on("menubutton-c-button","click",BCUS.MenuButtonToggle);m.render();m.show();paginator.render();m.addListener(document,"beforeShow",k.call(m,c,b,d))}};BCUS.BrowseImagesPanelToggle={init:function(a,c,b){YAHOO.util.Event.on(document,"click",function(d){d=
YAHOO.util.Event.getTarget(d);var e=YAHOO.util.Dom.get(a);d==BCUS.browseImagesPanel||YAHOO.util.Dom.isAncestor(a,d)||(YAHOO.util.Dom.generateId(d)==c&&"hidden"==YAHOO.util.Dom.getStyle(a,"visibility")?YAHOO.util.Dom.setStyle(e,"visibility","visible"):(YAHOO.util.Dom.setStyle(e,"visibility","hidden"),YAHOO.util.Dom.get(b).innerHTML=""))})}};BCUS.MenuButtonToggle=function(a){var c=YAHOO.util.Event.getTarget(a);YAHOO.util.Dom.getAncestorByClassName(c,"yui-menu-button")&&(c=YAHOO.util.Dom.getAncestorByClassName(c,
"yui-menu-button"));a=c.id;if(YAHOO.util.Dom.hasClass(a,"yui-menu-button"))var b=YAHOO.util.Dom.getNextSibling(a);YAHOO.util.Event.on(document,"click",function(a){a=YAHOO.util.Event.getTarget(a);YAHOO.util.Dom.getAncestorByClassName(a,"yui-menu-button")&&(a=YAHOO.util.Dom.getAncestorByClassName(a,"yui-menu-button"));c==a?(YAHOO.util.Dom.setStyle(b,"visibility","visible"),YAHOO.util.Dom.removeClass(b,"yui-overlay-hidden"),YAHOO.util.Dom.addClass(b,"visible"),YAHOO.util.Dom.setStyle(b,"z-index","2")):
(YAHOO.util.Dom.setStyle(b,"visibility","hidden"),YAHOO.util.Dom.removeClass(b,"yui-overlay-visible"),YAHOO.util.Dom.addClass(b,"hidden"),YAHOO.util.Dom.setStyle(b,"z-index","1"))})};BCUS.isNumberOrLetterKey=function(a){var c;c=window.event?a.keyCode:a.which?a.which:0;if(0==c&&(c=a.keyCode,37==c||39==c)||8==c||13==c||46==c)return!0;a=String.fromCharCode(c);return/[0-9A-Za-z\t ]/.test(a)};BCUS.isEnterKey=function(a,c){var b=a.key;if(13==(window.event?a.keyCode:a.which?a.which:0)||"Enter"==b)if(c)c(a);
else return!0;else return!1};BCUS.isEnterOrSpaceKey=function(a,c){var b=window.event?a.keyCode:a.which?a.which:0,d=a.key;if(13===b||"Enter"===d||32===b||"Space"===d)if(c)c(a);else return!0;else return!1};BCUS.resizeIframe=function(a){""!=a&&(document.getElementById("IFrameResize").height=parseInt(a))};BCUS.placeholderText=function(a){var c=YAHOO.util.Dom.get(a.el);document.activeElement!==c&&YAHOO.util.Dom.addClass(c,"dim");YAHOO.util.Event.addListener(c,"focusin",BCUS.removeDim,c,!0);YAHOO.util.Event.addListener(c,
"focusout",BCUS.checkDim,c,!0);""==c.value||c.value==YAHOO.util.Dom.getAttribute(c,"placeholder")?Modernizr.input.placeholder||(""==c.value&&(c.value=a.txt),c.blur()):YAHOO.util.Dom.removeClass(c,"dim");YAHOO.util.Event.addListener(a.el,"focusin",BCUS.clearInput)};BCUS.checkDim=function(){var a=(new YAHOO.util.Element(this.id)).get("value");if(""==a||a==YAHOO.util.Dom.getAttribute(this,"placeholder"))Modernizr.input.placeholder||(this.value=YAHOO.util.Dom.getAttribute(this,"placeholder")),YAHOO.util.Dom.hasClass(this.id,
"dim")||YAHOO.util.Dom.addClass(this.id,"dim")};BCUS.removeDim=function(){YAHOO.util.Dom.hasClass(this.id,"dim")&&YAHOO.util.Dom.removeClass(this.id,"dim");this.value==YAHOO.util.Dom.getAttribute(this,"placeholder")&&(this.value="")};BCUS.validateDate=function(a){var c=a.split("/");a=Number(c[1]);var b=Number(c[2]);switch(Number(c[0])){case 1:case 3:case 5:case 7:case 8:case 10:case 12:c=31;break;case 2:c=0==b%4?29:28;break;case 4:case 6:case 9:case 11:c=30;break;default:return!1}return 0<a&&a<=c?
!0:!1};BCUS.setupPreventDoubleSubmit=function(a){a&&YAHOO.util.Dom.get(a)&&"form"==YAHOO.util.Dom.get(a).nodeName.toLowerCase()?BCUS.thisform=YAHOO.util.Dom.get(a):BCUS.thisform=YAHOO.util.Dom.getElementBy(function(){return!0},"form");YAHOO.util.Event.addListener(BCUS.thisform,"submit",BCUS.preventDoubleSubmit)};BCUS.formSubmitted=!1;BCUS.preventDoubleSubmit=function(a){return BCUS.formSubmitted?(YAHOO.util.Event.preventDefault(a),!1):BCUS.formSubmitted=!0};BCUS.redeemRewardsOverlay=function(a){YAHOO.util.Event.preventDefault(a);
a=YAHOO.util.Event.getTarget(a);var c=Dom.getAttribute(a,"href");if(!YAHOO.util.Dom.hasClass("redeemRewardsPanelId","rdmRwdOn")){BCUS.RedeemRewardsPanel=new YAHOO.widget.Panel("RedeemRewardsPanel",{visible:!0,width:"460px",height:"235px",constraintoviewport:!1,draggable:!1,close:!1,fixedcenter:!0,modal:!0,underlay:"none",zIndex:9E3,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25}});var b=new YAHOO.widget.Button("redeemRwdsDontShowCkBox",{type:"checkbox"});a=new YAHOO.widget.Button("learnHow",
{type:"link"});(new YAHOO.widget.Button("continueToPartner",{type:"link"})).set("onclick",{fn:function(a){YAHOO.util.Event.preventDefault(a);1==b.get("checked")&&(YAHOO.util.Connect.asyncRequest("GET","Rewards.action?setRedeemRewardsIntercept",e),YAHOO.util.Event.removeListener(document,"click",BCUS.redeemRewardPanelToggle),YAHOO.util.Event.removeListener("redeemRewardsPanelId","click",BCUS.redeemRewardsOverlay));BCUS.popwin(c,{width:"800",height:"600",scrollbars:!0,toolbars:!0,resizable:!0,menubar:!0,
status:!0,location:!0,target:""});BCUS.RedeemRewardsPanel.hide();YAHOO.util.Dom.removeClass("redeemRewardsPanelId","rdmRwdOn")}});a.set("onclick",{fn:function(a){YAHOO.util.Event.preventDefault(a);1==b.get("checked")&&(YAHOO.util.Connect.asyncRequest("GET","Rewards.action?setRedeemRewardsIntercept",d),YAHOO.util.Event.removeListener(document,"click",BCUS.redeemRewardPanelToggle),YAHOO.util.Event.removeListener("redeemRewardsPanelId","click",BCUS.redeemRewardsOverlay));window.location.href="Rewards.action?updatePartnerProfile"}});
YAHOO.util.Dom.get("learnHow")&&YAHOO.util.Dom.addClass(a,"green");var d={success:function(a){window.location.href="Rewards.action?updatePartnerProfile"},failure:function(a){}},e={success:function(a){BCUS.popwin(c,{width:"800",height:"600",scrollbars:!0,toolbars:!0,resizable:!0,menubar:!0,status:!0,location:!0,target:""})},failure:function(a){}};BCUS.RedeemRewardsPanel.render(document.body);YAHOO.util.Dom.removeClass("redeemRewardsPanelId","hide");BCUS.RedeemRewardsPanel.show();YAHOO.util.Event.removeListener("redeemRewardsPanelId",
"click",BCUS.redeemRewardsOverlay);YAHOO.util.Event.addListener(document,"click",BCUS.redeemRewardPanelToggle)}};BCUS.redeemRewardPanelToggle=function(a){if(BCUS.RedeemRewardsPanel){var c=YAHOO.util.Event.getTarget(a),b=YAHOO.util.Dom.get("RedeemRewardsPanel"),d=YAHOO.util.Dom.get("redeemRewardsPanelId");c==b||YAHOO.util.Dom.isAncestor(b,c)||c!=d&&!YAHOO.util.Dom.isAncestor(d,c)||YAHOO.util.Dom.hasClass("redeemRewardsPanelId","rdmRwdOn")||(YAHOO.util.Event.preventDefault(a),BCUS.RedeemRewardsPanel.show(),
YAHOO.util.Dom.addClass("redeemRewardsPanelId","rdmRwdOn"))}};BCUS.getAds=function(a){try{YAHOO.util.Connect.asyncRequest("GET","Ad?overlayContentId\x3d"+a,{success:function(a){try{var b=document.createElement("div");b.innerHTML=a.responseText;var c=b.getElementsByTagName("div");for(i=0;i<c.length;i++)if(YAHOO.util.Dom.get(c.item(i).getAttribute("data-location"))&&(YAHOO.util.Dom.get(c.item(i).getAttribute("data-location")).innerHTML=c.item(i).innerHTML),"modal"==c.item(i).getAttribute("data-adtype")&&
0<c.item(i).getElementsByTagName("div").length){var d=document.createElement("div");d.innerHTML=c.item(i).innerHTML;BCUS.showOverlay("adServerModalAjax",d)}}catch(y){}},failure:function(){}})}catch(c){}};BCUS.sendModalAdTracking=function(a){try{YAHOO.util.Connect.asyncRequest("GET","Ad?updateTrackingInformation\x26accepted\x3d"+a,{success:function(){},failure:function(){}})}catch(c){}};BCUS.setActiveElement=function(a){activeElement=a};BCUS.getActiveElement=function(){return activeElement?activeElement:
!1};BCUS.showOverlay=function(a,c,b){Dom=YAHOO.util.Dom;var d=document.getElementById("overlayContainer"),e=!1;BCUS.setActiveElement(document.activeElement);c?(d.innerHTML=" ",e=c.innerHTML):(e=d.innerHTML,b.newPanel&&(d.innerHTML=""));c={width:"400px",fixedcenter:!0,constraintoviewport:!0,close:!0,visible:!0,modal:!0,underlay:"none",zIndex:4,draggable:!1};switch(a){case "youTube":c.width="820px";break;case "accountprotector":c.width="515px";break;case "authUser":c.width="630px";c.height="350px";
break;case "saveAuthUserAddress":c.width="630px";c.height="350px";break;case "photoId":c.width="330px";break;case "adServerModal":case "adServerModalAjax":c.width="600px";break;case "cancelTrip":c.width="200px;";break;case "CashBack-Confirm":c.width="320px";c.close=!1;break;case "PYB-Confirm":c.width="320px",c.close=!1}Dom.addClass(Dom.getElementsByClassName("alertBox"),"hide");BCUS.overlayPanel="adServerModal"==a?new YAHOO.widget.Panel("adModalContainer",c):new YAHOO.widget.Panel("overlayContainer",
c);e&&BCUS.overlayPanel.setBody(e);BCUS.overlayPanel.render(document.body);BCUS.overlayPanel.render();BCUS.overlayPanel.cfg.setProperty("effect",{effect:YAHOO.widget.ContainerEffect.FADE,duration:.25});BCUS.overlayPanel.align("tl","tr");BCUS.overlayInit(a,b);Dom.addClass("overlayContainer",a);BCUS.implementAdaYuiSolution(BCUS.overlayPanel);(!b||b&&!b.ensuingOverlay)&&BCUS.overlayPanel.hideEvent.subscribe(function(){Dom.removeClass(Dom.getElementsByClassName("alertBox"),"hide");Dom.get("accountSummaryAlertWrapper")&&
Dom.removeClass("accountSummaryAlertWrapper","hide");if("PAVWarning"==a){BCUS.overlayPanel.destroy();var b=document.createElement("div");b.id="overlayContainer";document.body.appendChild(b);BCUS.overlayPanel=!1}})};BCUS.overlayInit=function(a,c){var b=YAHOO.util.Dom;b.addClass(b.getElementsByClassName("alertBox"),"hide");var d=BCUS.getActiveElement();activeElement="";switch(a){case "youTube":BCUS.overlayPanel.center();if(-1<navigator.userAgent.toLowerCase().indexOf("firefox")){var e=function(a){switch(a.keyCode){case 33:case 34:case 35:case 36:case 37:case 39:case 38:case 40:case 32:a.preventDefault()}};
window.addEventListener("keydown",e,!1)}document.body.style.overflow="hidden";a=b.getElementsByClassName("container-close");YAHOO.util.Event.on(a,"click",function(){/MSIE (\d+\.\d+);/.test(navigator.userAgent)&&8==new Number(RegExp.$1)&&document.getElementById("youtubeIframe").removeAttribute("src");var a=document.getElementById("youtubeIframe");a.parentNode.removeChild(a);document.getElementById("logo")&&(document.getElementById("logo").style.display="block");document.getElementById("white").style.display=
"block";document.getElementById("blue").style.display="block";document.body.style.overflow="visible";window.removeEventListener("keydown",e,!1)});break;case "PAV":YAHOO.util.Dom.getElementsByClassName("accountSummaryPage").length&&YAHOO.util.Dom.addClass("pavDiv_mask","inAC");YAHOO.util.Dom.addClass("overlayContainer","pavPanel");a=new YAHOO.widget.Button("reviewActivity");b.get("reviewActivity")&&(b.addClass(a,"green"),b.get("reviewActivity-button").focus());a=new YAHOO.widget.Button("closePopUp",
{type:"link"});b.get("closePopUp")?(b.addClass(a,"green"),b.get("closePopUp-button")&&b.get("closePopUp-button").focus(),a.set("onclick",{fn:function(a){YAHOO.util.Event.preventDefault(a);BCUS.overlayPanel.hide();BCUS.focusBackElement(d)}})):BCUS.overlayPanel.hideEvent.subscribe(function(){b.get("overlayContainer").innerHTML="";YAHOO.util.Connect.asyncRequest("GET","pavpopup?warningPop\x3d",{success:function(a){var b=document.createElement("div");b.innerHTML=a.responseText;b=BCUS.getHtmlById(b,"mainContent",
"section");BCUS.showOverlay("PAVWarning",b,{aux1:"fraudDetection",aux2:"close"})},failure:function(a){}})});BCUS.overlayPanel.show();break;case "PAVWarning":YAHOO.util.Dom.getElementsByClassName("accountSummaryPage").length&&YAHOO.util.Dom.addClass("pavDiv_mask","inAC");YAHOO.util.Dom.addClass("overlayContainer","pavPanel");var f;f=document.getElementById("closePopUp-button");a=document.getElementById("exitPopUp-button");b.get("closePopUp")&&b.addClass(f,"green");"fraudDetection"==c.aux1?(b.get("closePopUp-button")&&
(f.onclick=function(){window.location.href=c.aux1;return!1},b.get("closePopUp-button").focus()),b.get("exitPopUp-button")&&(a.onclick=function(){BCUS.overlayPanel.hide();return!1})):(b.get("closePopUp-button")&&(f.onclick=function(){BCUS.overlayPanel.hide();BCUS.focusBackElement(d);return!1},b.get("closePopUp-button").focus()),b.get("exitPopUp-button")&&(a.onclick=function(){BCUS.overlayPanel.hide();BCUS.focusBackElement(d);window.location.href=c.aux2;return!1}));BCUS.overlayPanel.show();b.get("closePopUp-button").focus();
break;case "photoId":if(YAHOO.util.Dom.get("imageGuidelines"))YAHOO.util.Event.on("imageGuidelines","click",function(a){YAHOO.util.Event.preventDefault(a);BCUS.popwin(this.href,"imageGuidelines",{width:"550",height:"900",location:!1,scrollbars:!1});return!1});if(YAHOO.util.Dom.get("PhotoCardAgreement")){var h="",h=document.all&&-1!=navigator.appVersion.indexOf("MSIE 7.")?"550":"510";YAHOO.util.Event.on("PhotoCardAgreement","click",function(a){YAHOO.util.Event.preventDefault(a);BCUS.popwin(this.href,
"PhotoCardAgreement",{width:"550",height:h,location:!1,scrollbars:!1});return!1})}if(YAHOO.util.Dom.get("photoCardFAQs"))YAHOO.util.Event.on("photoCardFAQs","click",function(a){YAHOO.util.Event.preventDefault(a);BCUS.popwin(this.href,"photoCardFAQs",{width:"550",height:"820",location:!1,scrollbars:!1});return!1});b.get("overlayContainerPhotoId")&&b.removeClass("overlayContainerPhotoId","displayNone");(function(){YAHOO.util.Dom.get("cancelButton")&&(new YAHOO.widget.Button("cancelButton",{type:"link"})).set("onclick",
{fn:function(a){YAHOO.util.Event.preventDefault(a);BCUS.overlayPanel.hide();BCUS.focusBackElement(d)}});if(YAHOO.util.Dom.get("continueButton")){var a=new YAHOO.widget.Button("continueButton",{type:"link"});YAHOO.util.Dom.addClass(a,"green")}YAHOO.util.Dom.get("continueButtonRestricted")&&new YAHOO.widget.Button("continueButtonRestricted",{type:"button",disabled:"true"})})();BCUS.overlayPanel.center();BCUS.overlayPanel.show();break;case "saveAuthUserAddress":document.getElementById("saveAuthUserAddress").onclick=
function(){b.get("state").onchange=function(){b.removeClass("state","error")};YAHOO.util.Connect.setForm(b.get("authAddressForm"));YAHOO.util.Connect.asyncRequest("POST","updateAuthUser?addAuthUserAddress",{success:function(a){if(""!==a.responseText){a=YAHOO.lang.JSON.parse(a.responseText);a=a.errors;for(var c,d=0;d<a.length;d++)c=a[d].fieldName.split("."),b.addClass(c[1],"error"),b.get(c[1]+"_Error").innerHTML=a[d].message}else{a=b.get("streetAddress").value;c=b.get("state").value;var d=b.get("zipCode").value,
e=b.get("city").value,f=b.get("streetAddress2").value,g=b.get("last4DigitsOfzipCode").value;null!==a&&(f+=" "+a+"\x3cbr\x3e");f=f+(e+", ")+c+(" "+d);""!==g&&(f+="-"+g);b.get("authUserAddressUpdate")&&(b.removeClass("AuthUserCardMemberAddress","hide"),b.removeClass("authUserAddressUpdate","hide"),b.removeClass("editAuthUserAddress","hide"),b.get("authUserAddressUpdate").innerHTML=f,b.get("AuthUserCardMemberAddress").checked=!0,b.removeClass("addAuthUserAddress","hide"),b.removeClass("authUserAddress",
"hide"),b.addClass("addAuthUserAddressLink","hide"));BCUS.overlayPanel.hide()}},failure:function(){BCUS.overlayPanel.hide()}})};a=function(){BCUS.overlayPanel.hide();BCUS.focusBackElement(d);b.get("authUserAddressUpdate")&&!b.hasClass("authUserAddress","hide")&&""!==YAHOO.lang.trim(b.get("authUserAddressUpdate").innerHTML)?b.get("AuthUserCardMemberAddress").checked=!0:b.get("cardMemberAddress")&&(b.get("cardMemberAddress").checked=!0)};YAHOO.util.Event.on(b.get("cancelButton"),"click",a);YAHOO.util.Event.on(YAHOO.util.Dom.getElementsByClassName("container-close"),
"click",a);YAHOO.util.Event.on("authAddressForm","focusin",BCUS.toolTip);YAHOO.util.Event.on(YAHOO.util.Dom.getElementsByClassName("validate"),"focusout",BCUS.validate.execute,{beanclass:"com.barclaycardus.app.cws.action.AuthorisedUserActionBean"});break;case "authUser":document.getElementById("saveAddress").onclick=function(){b.get("state").onchange=function(){b.removeClass("state","error")};YAHOO.util.Connect.setForm(b.get("authAddressForm"));YAHOO.util.Connect.asyncRequest("POST","addNewAuthorizeduser?addAuthUserAddress",
{success:function(a){if(""!==a.responseText){a=YAHOO.lang.JSON.parse(YAHOO.lang.JSON.stringify(eval(a.responseText)));for(var c,d=0;d<a.length;d++)c=a[d].field.split("."),b.addClass(c[1],"error"),b.get(c[1]+"_Error").innerHTML=a[d].errorMessage}else{b.get("userListComponentAuthUser")&&(document.forms.authAddressForm.action="addNewAuthorizeduser?addAddressFromAccntSettings",document.forms.authAddressForm.submit());a=b.get("streetAddress").value;c=b.get("state").value;var d=b.get("zipCode").value,e=
b.get("city").value,f=b.get("streetAddress2").value,g=b.get("last4DigitsOfzipCode").value;null!==a&&(f+=" "+a+"\x3cbr\x3e");f=f+(e+", ")+c+(" "+d);""!==g&&(f+="-"+g);b.get("authUserAddressUpdate")&&(b.removeClass("AuthUserCardMemberAddress","hide"),b.removeClass("authUserAddressUpdate","hide"),b.removeClass("editAuthUserAddress","hide"),b.get("authUserAddressUpdate").innerHTML=f,b.get("AuthUserCardMemberAddress").checked=!0,b.removeClass("addAuthUserAddress","hide"),b.removeClass("authUserAddress",
"hide"),b.addClass("addAuthUserAddressLink","hide"));BCUS.overlayPanel.hide();BCUS.focusBackground();setTimeout(function(){b.get("editAuthAddress").focus()},500)}},failure:function(){BCUS.overlayPanel.hide()}})};a=function(){BCUS.overlayPanel.hide();BCUS.focusBackElement(d);b.get("authUserAddressUpdate")&&!b.hasClass("authUserAddress","hide")&&""!==YAHOO.lang.trim(b.get("authUserAddressUpdate").innerHTML)?b.get("AuthUserCardMemberAddress").checked=!0:b.get("cardMemberAddress")&&(b.get("cardMemberAddress").checked=
!0)};var k=function(a,c){var d=a.id+"_Error";b.addClass(a,"error");b.get(d).innerHTML=c;BCUS.addAdaTag(a.id,"aria-describedby",d)};f=YAHOO.util.Dom.get("streetAddress");YAHOO.util.Event.on(f,"focusout",function(a){var c=a.currentTarget;a=a.currentTarget.value;if(""!==a){var d=/^[0-9a-zA-Z\s\/#-]{1,32}$/;/((^[\d\s]*p\.\s*[o0]\.?)([\s\d]+[\d\w\s\.]*)?$)|(^p[o0](b[o0])?([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*p\s*[o0]\s*b\s*[o0]?\s*x([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*p[o0](st(al)?)?\s*([o0]ffice(b[o0]x)?|bb?[o0]x|drawer)([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*[o0]ffice\s*p[o0]st(al)?([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*(p[o0]bx|pb[o0]x|p\s+b[o0]x|pbx|p\s+b|p\s+[0o]|p[o0]b|b[o0]x|drawer)([\s\d]+[\d\w\s\.]*)?$)|(^[\d\s]*b[o0]x\s+p\s*[o0](st(al)?)?\s*([o0]ffice)?([\s\d]+[\d\w\s\.]*)?$)/i.test(a.toLowerCase().replace(/[\W._]+/g,
" ").trim())?k(c,"Due to compliance with the Patriot Act, we need a street address on file."):d.test(a.trim())?(BCUS.removeAdaTag(c.id,"aria-describedby"),b.removeClass(c,"error")):k(c,"Please enter a valid mailing address.")}else k(c,"Required for account correspondence.")});YAHOO.util.Event.on(b.get("cancelButton"),"click",a);YAHOO.util.Event.on(YAHOO.util.Dom.getElementsByClassName("container-close"),"click",a);YAHOO.util.Event.on("authAddressForm","focusin",BCUS.toolTip);YAHOO.util.Event.on(YAHOO.util.Dom.getElementsByClassName("validate"),
"focusout",BCUS.validate.execute,{beanclass:"com.barclaycardus.app.cws.action.AuthorisedUserActionBean"});break;case "activateCard":a=function(){var a=YAHOO.util.Dom.getElementsByClassName("inputBox","input","activateCardForm"),b;for(b in a){var c=a[b];c.showBorder=function(a){YAHOO.util.Dom.addClass(this,"blueBorder")};c.hideBorder=function(a){YAHOO.util.Dom.removeClass(this,"blueBorder")};YAHOO.util.Event.addListener(c,"focusin",c.showBorder);YAHOO.util.Event.addListener(c,"focusout",c.hideBorder)}};
BCUS.setupPreventDoubleSubmit();f=YAHOO.util.Dom.getAttribute("activateCardForm","action");YAHOO.util.Dom.setAttribute("activateCardForm","action",f+"?activatedFromPanel\x3dtrue");YAHOO.util.Dom.addClass("activateCard","activateCard");YAHOO.util.Dom.addClass("help","hide");YAHOO.util.Dom.addClass("pageLine","hide");YAHOO.util.Dom.removeClass("boxLine","hide");YAHOO.util.Dom.removeClass("activateCardPageTitle","pageTitle");YAHOO.util.Event.on("activateCardForm","focusin",BCUS.toolTip);YAHOO.util.Event.on(YAHOO.util.Dom.getElementsByClassName("validate"),
"focusout",BCUS.validate.execute,{beanclass:"com.barclaycardus.app.cws.action.ActivateCardActionBean"});0<YAHOO.env.ua.ie&&8>YAHOO.env.ua.ie&&a();YAHOO.util.Dom.get("ssnDigit1").focus();a=new YAHOO.widget.Button("continueButton");b.get("continueButton")&&b.addClass(a,"green");(new YAHOO.widget.Button("cancelButtonPanel",{type:"link"})).set("onclick",{fn:function(a){YAHOO.util.Event.preventDefault(a);BCUS.overlayPanel.hide()}});BCUS.overlayPanel.show();BCUS.activatePanelAutotab();break;case "activateCardOverlay":YAHOO.util.Event.on(YAHOO.util.Dom.get("closeActivateOverlay"),
"click",function(a){YAHOO.util.Event.preventDefault(a);BCUS.overlayPanel.hide();BCUS.focusBackElement(d)});break;case "adServerModal":case "adServerModalAjax":a=b.getElementsByClassName("container-close",null,BCUS.overlayPanel.element)[0];var l=b.getElementsByClassName("adModalContent")[0].getAttribute("data-showOneTimeIndicator");if("true"===l)YAHOO.util.Event.onContentReady("continueButton",BCUS.sendModalAdTracking("false"));b.get("cancelButton")&&(new YAHOO.widget.Button("cancelButton")).set("onclick",
{fn:function(a){BCUS.sendModalAdTracking("false");BCUS.overlayPanel.hide()}});b.get("continueButton")&&(f=new YAHOO.widget.Button("continueButton"),b.addClass(f,"green"),f.set("onclick",{fn:function(a){"true"===l?BCUS.sendModalAdTracking("false"):BCUS.sendModalAdTracking("true");BCUS.overlayPanel.hide()}}));YAHOO.util.Event.on(a,"click",function(){BCUS.sendModalAdTracking("false")});b.get("adModalContainer")&&b.removeClass("adModalContainer","displayNone");BCUS.overlayPanel.render();BCUS.overlayPanel.center();
BCUS.overlayPanel.show();break;case "cancelTrip":a=function(){BCUS.overlayPanel.hide();BCUS.focusBackElement(d)},YAHOO.util.Event.on("cancelNo","click",a),YAHOO.util.Event.on(YAHOO.util.Dom.getElementsByClassName("container-close"),"click",a)}};BCUS.rememberUserName=function(a,c){var b=YAHOO.util.Dom,d=YAHOO.util.Event,e=YAHOO.util.Cookie.get("rememberUserNameCookie"),f=b.get("username"),h=b.get("forgotUsername"),k=b.get("maskedUsername"),l=b.get("notYouLink"),m=b.get("rememberUserName"),n=b.get("altLogin");
f&&e&&a&&(m.setAttribute("checked",!0),b.addClass(f,"displayNone"),b.addClass(h,"displayNone"),b.removeClass(k,"displayNone"),b.removeClass(l,"displayNone"),k.innerHTML=a,f.value=e,c?BCUS.GlobalElement.customerLogin.setAttribute("name","rememberedLogin"):BCUS.GlobalElement.customerLogin.set("name","rememberedLogin"),n&&n.setAttribute("name","rememberedLogin"));if(l)d.on(l,"click",function(){f.value="";b.removeClass(f,"displayNone");b.removeClass(h,"displayNone");BCUS.firstNameNotYou.remove();b.addClass(k,
"displayNone");b.addClass(l,"displayNone");m.removeAttribute("checked");c?BCUS.GlobalElement.customerLogin.setAttribute("name","login"):BCUS.GlobalElement.customerLogin.set("name","login");n&&n.setAttribute("name","login")})};BCUS.strengthInd={checkPassword:function(a){a=YAHOO.util.Event.getTarget(a);var c;""!=a.value?(Dom.hasClass(strength_indicator,"hide")&&Dom.removeClass(strength_indicator,"hide"),c=new RegExp(BCUS.Constants.Password.PWD_REGEX_STRONG),(c=c.test(a.value))?BCUS.strengthInd.setProgressBarStatus("strong"):
(c=new RegExp(BCUS.Constants.Password.PWD_REGEX),(c=c.test(a.value))?BCUS.strengthInd.setProgressBarStatus("medium"):BCUS.strengthInd.setProgressBarStatus("weak"))):(Dom.hasClass(strength_indicator,"hide")||Dom.addClass(strength_indicator,"hide"),BCUS.strengthInd.setProgressBarStatus(""))},setProgressBarStatus:function(a){var c=YAHOO.util.Dom;c.hasClass(strength_indicator_bar,"weak")&&c.removeClass(strength_indicator_bar,"weak");c.hasClass(strength_indicator_bar,"medium")&&c.removeClass(strength_indicator_bar,
"medium");c.hasClass(strength_indicator_bar,"strong")&&c.removeClass(strength_indicator_bar,"strong");switch(a){case "strong":c.get(strength_indicator_bar).innerHTML="\x3cp\x3eStrong\x3c/p\x3e";c.addClass(strength_indicator_bar,"strong");c.hasClass("newPassword","txtBoxIconCheck")||c.addClass("newPassword","txtBoxIconCheck");break;case "medium":c.get(strength_indicator_bar).innerHTML="\x3cp\x3eAcceptable\x3c/p\x3e";c.addClass(strength_indicator_bar,"medium");c.hasClass("newPassword","txtBoxIconCheck")||
c.addClass("newPassword","txtBoxIconCheck");break;case "weak":c.addClass(strength_indicator_bar,"weak");c.get(strength_indicator_bar).innerHTML="\x3cp\x3eWeak\x3c/p\x3e";c.removeClass("newPassword","txtBoxIconCheck");break;default:c.get(strength_indicator_bar).innerHTML="",c.removeClass("newPassword","txtBoxIconCheck")}}};BCUS.downloadAnnualSummaryPDF={display:function(a){try{statementWin=window.open("/servicing/mystatements?getAnnualSummaryStatement\x26accountId\x3d"+a,"myStatements","top\x3d10,left\x3d10,screenX\x3d10,screenY\x3d10,width\x3d840,height\x3d600,scrollbars,resizable,status")}catch(c){return!1}}};
BCUS.firstNameNotYou={display:function(a,c){var b=YAHOO.util.Dom.get("notLoggedHeader");try{null!=c&&(b.innerHTML=YAHOO.lang.trim(b.innerHTML)+", "+c+" "+a)}catch(g){}},remove:function(){var a=YAHOO.util.Cookie;try{a.remove("rememberUserNameCookie",{path:"/"}),a.remove("maskedUserNameCookie",{path:"/"}),a.remove("cookieFirstName",{path:"/"})}catch(c){}}}})();